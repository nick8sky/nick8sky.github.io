{"version":3,"sources":["../static/js/99.d58714df.chunk.js","pages/sc/zipkin/Zipkin1.js"],"names":["webpackJsonp","1194","module","__webpack_exports__","__webpack_require__","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","defineProperty","__WEBPACK_IMPORTED_MODULE_1_antd_es_row__","__WEBPACK_IMPORTED_MODULE_3_antd_es_col__","__WEBPACK_IMPORTED_MODULE_5_antd_es_anchor__","__WEBPACK_IMPORTED_MODULE_6_react__","__WEBPACK_IMPORTED_MODULE_6_react___default","n","_createClass","defineProperties","target","props","i","length","descriptor","key","protoProps","staticProps","Link","ASK1","_Component","_ref","_temp","_this","_ret","this","_len","arguments","args","Array","_key","getPrototypeOf","apply","concat","s","a","createElement","span","href","id","class","src","alt","showInkInFixed","title"],"mappings":"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","file":"static/js/99.d58714df.chunk.js","sourcesContent":["webpackJsonp([99],{\n\n/***/ 1194:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_antd_es_row_style_css__ = __webpack_require__(227);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_antd_es_row__ = __webpack_require__(228);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_antd_es_col_style_css__ = __webpack_require__(138);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_antd_es_col__ = __webpack_require__(139);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_antd_es_anchor_style_css__ = __webpack_require__(167);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_antd_es_anchor__ = __webpack_require__(168);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_react__);\nvar _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var Link=__WEBPACK_IMPORTED_MODULE_5_antd_es_anchor__[\"a\" /* default */].Link;var ASK1=function(_Component){_inherits(ASK1,_Component);function ASK1(){var _ref;var _temp,_this,_ret;_classCallCheck(this,ASK1);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=ASK1.__proto__||Object.getPrototypeOf(ASK1)).call.apply(_ref,[this].concat(args))),_this),_this.s=\"{\",_temp),_possibleConstructorReturn(_this,_ret);}_createClass(ASK1,[{key:'render',value:function render(){return __WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('div',null,__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_antd_es_row__[\"a\" /* default */],null,__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_antd_es_col__[\"a\" /* default */],{span:19},__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('p',null,'zipkin\\u4E3A\\u5206\\u5E03\\u5F0F\\u94FE\\u8DEF\\u8C03\\u7528\\u76D1\\u63A7\\u7CFB\\u7EDF\\uFF0C\\u805A\\u5408\\u5404\\u4E1A\\u52A1\\u7CFB\\u7EDF\\u8C03\\u7528\\u5EF6\\u8FDF\\u6570\\u636E\\uFF0C\\u8FBE\\u5230\\u94FE\\u8DEF\\u8C03\\u7528\\u76D1\\u63A7\\u8DDF\\u8E2A\\u3002'),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('p',null,'\\u53C2\\u8003\\uFF1A',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('a',{href:'http://blog.csdn.net/liaokailin/article/details/52077620',target:'_blank'},'http://blog.csdn.net/liaokailin/article/details/52077620')),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('h2',{id:'architecture'},__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('a',{href:'javascript:void(0)','class':'anchor'},'architecture')),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('p',null,__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('img',{src:'https://raw.githubusercontent.com/liaokailin/pic-repo/master/slow-service.png',alt:''})),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('p',null,'\\u5982\\u56FE\\uFF0C\\u5728\\u590D\\u6742\\u7684\\u8C03\\u7528\\u94FE\\u8DEF\\u4E2D\\u5047\\u8BBE\\u5B58\\u5728\\u4E00\\u6761\\u8C03\\u7528\\u94FE\\u8DEF\\u54CD\\u5E94\\u7F13\\u6162\\uFF0C\\u5982\\u4F55\\u5B9A\\u4F4D\\u5176\\u4E2D\\u5EF6\\u8FDF\\u9AD8\\u7684\\u670D\\u52A1\\u5462\\uFF1F'),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('ul',null,__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('li',null,'\\u65E5\\u5FD7\\uFF1A \\u901A\\u8FC7\\u5206\\u6790\\u8C03\\u7528\\u94FE\\u8DEF\\u4E0A\\u7684\\u6BCF\\u4E2A\\u670D\\u52A1\\u65E5\\u5FD7\\u5F97\\u5230\\u7ED3\\u679C'),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('li',null,'zipkin\\uFF1A\\u4F7F\\u7528zipkin\\u7684web UI\\u53EF\\u4EE5\\u4E00\\u773C\\u770B\\u51FA\\u5EF6\\u8FDF\\u9AD8\\u7684\\u670D\\u52A1')),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('p',null,__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('img',{src:'http://zipkin.io/public/img/architecture-1.png',alt:''})),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('p',null,'\\u5982\\u56FE\\u6240\\u793A\\uFF0C\\u5404\\u4E1A\\u52A1\\u7CFB\\u7EDF\\u5728\\u5F7C\\u6B64\\u8C03\\u7528\\u65F6\\uFF0C\\u5C06\\u7279\\u5B9A\\u7684\\u8DDF\\u8E2A\\u6D88\\u606F\\u4F20\\u9012\\u81F3zipkin,zipkin\\u5728\\u6536\\u96C6\\u5230\\u8DDF\\u8E2A\\u4FE1\\u606F\\u540E\\u5C06\\u5176\\u805A\\u5408\\u5904\\u7406\\u3001\\u5B58\\u50A8\\u3001\\u5C55\\u793A\\u7B49\\uFF0C\\u7528\\u6237\\u53EF\\u901A\\u8FC7web UI\\u65B9\\u4FBF \\u83B7\\u5F97\\u7F51\\u7EDC\\u5EF6\\u8FDF\\u3001\\u8C03\\u7528\\u94FE\\u8DEF\\u3001\\u7CFB\\u7EDF\\u4F9D\\u8D56\\u7B49\\u7B49\\u3002'),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('p',null,'\\xA0'),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('p',null,'zipkin\\u4E3B\\u8981\\u6D89\\u53CA\\u56DB\\u4E2A\\u7EC4\\u4EF6 collector /storage/ search/ web UI'),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('ul',null,__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('li',null,__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('code',null,'Collector'),'\\u63A5\\u6536\\u5404service\\u4F20\\u8F93\\u7684\\u6570\\u636E'),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('li',null,__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('code',null,'Cassandra'),'\\u4F5C\\u4E3A',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('code',null,'Storage'),'\\u7684\\u4E00\\u79CD\\uFF0C\\u4E5F\\u53EF\\u4EE5\\u662Fmysql\\u7B49\\uFF0C\\u9ED8\\u8BA4\\u5B58\\u50A8\\u5728\\u5185\\u5B58\\u4E2D\\uFF0C\\u914D\\u7F6E',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('code',null,'cassandra'),'\\u53EF\\u4EE5\\u53C2\\u8003',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('a',{href:'https://github.com/openzipkin/zipkin-dependencies'},'\\u8FD9\\u91CC')),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('li',null,__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('code',null,'Query'),'\\u8D1F\\u8D23\\u67E5\\u8BE2',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('code',null,'Storage'),'\\u4E2D\\u5B58\\u50A8\\u7684\\u6570\\u636E,\\u63D0\\u4F9B\\u7B80\\u5355\\u7684',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('code',null,'JSON API'),'\\u83B7\\u53D6\\u6570\\u636E\\uFF0C\\u4E3B\\u8981\\u63D0\\u4F9B\\u7ED9',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('code',null,'web UI'),'\\u4F7F\\u7528'),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('li',null,'Web \\u63D0\\u4F9B\\u7B80\\u5355\\u7684web\\u754C\\u9762')),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('h2',{id:'install'},__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('a',{href:'javascript:void(0)','class':'anchor'},'install')),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('p',null,'\\u6267\\u884C\\u5982\\u4E0B\\u547D\\u4EE4\\u4E0B\\u8F7Djar\\u5305'),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('pre',null,__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('code',null,'wget -O zipkin.jar \\'https://search.maven.org/remote_content?g=io.zipkin.java&a=zipkin-server&v=LATEST&c=exec\\'',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null))),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('p',null,'\\u5176\\u4E3A\\u4E00\\u4E2Aspring boot \\u5DE5\\u7A0B\\uFF0C\\u76F4\\u63A5\\u8FD0\\u884Cjar'),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('pre',null,__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('code',null,'nohup java -jar zipkin.jar & ',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null))),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('p',null,'\\u8BBF\\u95EE ',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('a',{href:'http://localhost:9411',target:'_blank'},'http://localhost:9411')),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('p',null,__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('img',{src:'https://raw.githubusercontent.com/liaokailin/pic-repo/master/zipkin-web-ui.png',alt:''})),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('h2',{id:'terminology\\u672F\\u8BED'},__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('a',{href:'javascript:void(0)','class':'anchor'},'terminology\\u672F\\u8BED')),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('p',null,'\\u4F7F\\u7528zipkin\\u6D89\\u53CA\\u51E0\\u4E2A\\u6982\\u5FF5'),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('ul',null,__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('li',null,__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('p',null,__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('code',null,'Span'),':\\u57FA\\u672C\\u5DE5\\u4F5C\\u5355\\u5143\\uFF0C\\u4E00\\u6B21\\u94FE\\u8DEF\\u8C03\\u7528(\\u53EF\\u4EE5\\u662FRPC\\uFF0CDB\\u7B49\\u6CA1\\u6709\\u7279\\u5B9A\\u7684\\u9650\\u5236)\\u521B\\u5EFA\\u4E00\\u4E2A',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('code',null,'span'),'\\uFF0C\\u901A\\u8FC7\\u4E00\\u4E2A64\\u4F4DID\\u6807\\u8BC6\\u5B83\\uFF0C',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('code',null,'span'),'\\u901A\\u8FC7\\u8FD8\\u6709\\u5176\\u4ED6\\u7684\\u6570\\u636E\\uFF0C\\u4F8B\\u5982\\u63CF\\u8FF0\\u4FE1\\u606F\\uFF0C\\u65F6\\u95F4\\u6233\\uFF0Ckey-value\\u5BF9\\u7684(Annotation)tag\\u4FE1\\u606F\\uFF0C',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('code',null,'parent-id'),'\\u7B49,\\u5176\\u4E2D',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('code',null,'parent-id'),'\\u53EF\\u4EE5\\u8868\\u793A',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('code',null,'span'),'\\u8C03\\u7528\\u94FE\\u8DEF\\u6765\\u6E90\\uFF0C\\u901A\\u4FD7\\u7684\\u7406\\u89E3',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('code',null,'span'),'\\u5C31\\u662F\\u4E00\\u6B21\\u8BF7\\u6C42\\u4FE1\\u606F')),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('li',null,__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('p',null,__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('code',null,'Trace'),':\\u7C7B\\u4F3C\\u4E8E\\u6811\\u7ED3\\u6784\\u7684',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('code',null,'Span'),'\\u96C6\\u5408\\uFF0C\\u8868\\u793A\\u4E00\\u6761\\u8C03\\u7528\\u94FE\\u8DEF\\uFF0C\\u5B58\\u5728\\u552F\\u4E00\\u6807\\u8BC6')),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('li',null,__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('p',null,'Annotation: \\u6CE8\\u89E3,\\u7528\\u6765\\u8BB0\\u5F55\\u8BF7\\u6C42\\u7279\\u5B9A\\u4E8B\\u4EF6\\u76F8\\u5173\\u4FE1\\u606F(\\u4F8B\\u5982\\u65F6\\u95F4)\\uFF0C\\u901A\\u5E38\\u5305\\u542B\\u56DB\\u4E2A\\u6CE8\\u89E3\\u4FE1\\u606F')),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('li',null,__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('p',null,'BinaryAnnotation:\\u63D0\\u4F9B\\u4E00\\u4E9B\\u989D\\u5916\\u4FE1\\u606F\\uFF0C\\u4E00\\u822C\\u5DF2key-value\\u5BF9\\u51FA\\u73B0'),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('p',null,'\\u6982\\u5FF5\\u8BF4\\u5B8C\\uFF0C\\u6765\\u770B\\u4E0B\\u5B8C\\u6574\\u7684\\u8C03\\u7528\\u94FE\\u8DEF '))),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('p',null,__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('img',{src:'https://raw.githubusercontent.com/spring-cloud/spring-cloud-sleuth/master/docs/src/main/asciidoc/images/trace-id.png',alt:''})),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('p',null,'\\u4E0A\\u56FE\\u8868\\u793A\\u4E00\\u8BF7\\u6C42\\u94FE\\u8DEF\\uFF0C\\u4E00\\u6761\\u94FE\\u8DEF\\u901A\\u8FC7Trace Id\\u552F\\u4E00\\u6807\\u8BC6\\uFF0CSpan\\u6807\\u8BC6\\u53D1\\u8D77\\u7684\\u8BF7\\u6C42\\u4FE1\\u606F\\uFF0C\\u5404span\\u901A\\u8FC7parent id \\u5173\\u8054\\u8D77\\u6765\\uFF0C\\u5982\\u56FE '),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('p',null,__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('img',{src:'https://raw.githubusercontent.com/spring-cloud/spring-cloud-sleuth/master/docs/src/main/asciidoc/images/parents.png',alt:''})),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('p',null,'\\u6574\\u4E2A\\u94FE\\u8DEF\\u7684\\u4F9D\\u8D56\\u5173\\u7CFB\\u5982\\u4E0B: '),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('p',null,__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('img',{src:'https://raw.githubusercontent.com/spring-cloud/spring-cloud-sleuth/master/docs/src/main/asciidoc/images/dependencies.png',alt:''})),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('p',null,'\\u5B8C\\u6210\\u94FE\\u8DEF\\u8C03\\u7528\\u7684\\u8BB0\\u5F55\\u540E\\uFF0C\\u5982\\u4F55\\u6765\\u8BA1\\u7B97\\u8C03\\u7528\\u7684\\u5EF6\\u8FDF\\u5462\\uFF0C\\u8FD9\\u5C31\\u9700\\u8981\\u5229\\u7528Annotation\\u4FE1\\u606F'),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('p',null,__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('img',{src:'https://raw.githubusercontent.com/liaokailin/pic-repo/master/zipkin-annotation.png',alt:''})),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('pre',null,__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('code',null,'cs - Client Start,\\u8868\\u793A\\u5BA2\\u6237\\u7AEF\\u53D1\\u8D77\\u8BF7\\u6C42',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'sr\\xA0-\\xA0Server\\xA0Receive,\\u8868\\u793A\\u670D\\u52A1\\u7AEF\\u6536\\u5230\\u8BF7\\u6C42',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'ss\\xA0-\\xA0Server\\xA0Send,\\u8868\\u793A\\u670D\\u52A1\\u7AEF\\u5B8C\\u6210\\u5904\\u7406\\uFF0C\\u5E76\\u5C06\\u7ED3\\u679C\\u53D1\\u9001\\u7ED9\\u5BA2\\u6237\\u7AEF',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'cr\\xA0-\\xA0Client\\xA0Received,\\u8868\\u793A\\u5BA2\\u6237\\u7AEF\\u83B7\\u53D6\\u5230\\u670D\\u52A1\\u7AEF\\u8FD4\\u56DE\\u4FE1\\u606F',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'sr-cs\\xA0\\u5F97\\u5230\\u8BF7\\u6C42\\u53D1\\u51FA\\u5EF6\\u8FDF',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'ss-sr\\xA0\\u5F97\\u5230\\u670D\\u52A1\\u7AEF\\u5904\\u7406\\u5EF6\\u8FDF',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'cr-cs\\xA0\\u5F97\\u5230\\u771F\\u4E2A\\u94FE\\u8DEF\\u5B8C\\u6210\\u5EF6\\u8FDF',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null))),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('p',null,'\\xA0'),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('h2',{id:'brave'},__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('a',{href:'javascript:void(0)','class':'anchor'},'brave')),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('p',null,'\\u4F5C\\u4E3A\\u5404\\u8C03\\u7528\\u94FE\\u8DEF\\uFF0C\\u53EA\\u9700\\u8981\\u8D1F\\u8D23\\u5C06\\u6307\\u5B9A\\u683C\\u5F0F\\u7684\\u6570\\u636E\\u53D1\\u9001\\u7ED9zipkin\\u5373\\u53EF\\uFF0C\\u5229\\u7528brave\\u53EF\\u5FEB\\u6377\\u5B8C\\u6210\\u64CD\\u4F5C\\u3002'),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('p',null,'\\u9996\\u5148\\u5BFC\\u5165jar\\u5305pom.xml'),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('pre',null,__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('code',null,'parent>',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0<groupId>org.springframework.boot</groupId>',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0<artifactId>spring-boot-starter-parent</artifactId>',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0<version>1.3.6.RELEASE</version>',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'\\xA0\\xA0\\xA0\\xA0</parent>',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'\\xA0\\xA0\\xA0\\xA0<!--\\xA0https://mvnrepository.com/artifact/io.zipkin.brave/brave-core\\xA0-->',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'\\xA0\\xA0\\xA0\\xA0<dependencies>',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0<dependency>',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0<groupId>org.springframework.boot</groupId>',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0<artifactId>spring-boot-starter-web</artifactId>',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0</dependency>',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0<dependency>',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0<groupId>org.springframework.boot</groupId>',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0<artifactId>spring-boot-starter-aop</artifactId>',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0</dependency>',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0<dependency>',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0<groupId>org.springframework.boot</groupId>',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0<artifactId>spring-boot-starter-actuator</artifactId>',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0</dependency>',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0<dependency>',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0<groupId>io.zipkin.brave</groupId>',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0<artifactId>brave-core</artifactId>',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0<version>3.9.0</version>',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0</dependency>',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0<!--\\xA0https://mvnrepository.com/artifact/io.zipkin.brave/brave-http\\xA0-->',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0<dependency>',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0<groupId>io.zipkin.brave</groupId>',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0<artifactId>brave-http</artifactId>',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0<version>3.9.0</version>',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0</dependency>',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0<dependency>',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0<groupId>io.zipkin.brave</groupId>',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0<artifactId>brave-spancollector-http</artifactId>',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0<version>3.9.0</version>',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0</dependency>',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0<dependency>',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0<groupId>io.zipkin.brave</groupId>',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0<artifactId>brave-web-servlet-filter</artifactId>',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0<version>3.9.0</version>',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0</dependency>',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0<dependency>',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0<groupId>io.zipkin.brave</groupId>',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0<artifactId>brave-okhttp</artifactId>',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0<version>3.9.0</version>',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0</dependency>',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0<!--\\xA0https://mvnrepository.com/artifact/org.slf4j/slf4j-api\\xA0-->',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0<dependency>',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0<groupId>org.slf4j</groupId>',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0<artifactId>slf4j-api</artifactId>',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0<version>1.7.13</version>',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0</dependency>',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0<dependency>',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0<groupId>org.apache.httpcomponents</groupId>',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0<artifactId>httpclient</artifactId>',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0<version>4.5.1</version>',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0</dependency>',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'\\xA0\\xA0\\xA0\\xA0</dependencies>',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null))),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('p',null,'\\xA0'),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('p',null,'\\u5EFA\\u7ACBcontroller\\u5BF9\\u5916\\u63D0\\u4F9B\\u670D\\u52A1'),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('p',null,'HomeController.java'),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('pre',null,__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('code',null,'@RestController',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'@RequestMapping(\"/\")',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'public\\xA0class\\xA0HomeController\\xA0',this.s,__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'\\xA0\\xA0\\xA0\\xA0@Autowired',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'\\xA0\\xA0\\xA0\\xA0private\\xA0OkHttpClient\\xA0client;',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'\\xA0\\xA0\\xA0\\xA0private\\xA0\\xA0Random\\xA0random\\xA0=\\xA0new\\xA0Random();',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'\\xA0\\xA0\\xA0\\xA0@RequestMapping(\"start\")',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'\\xA0\\xA0\\xA0\\xA0public\\xA0String\\xA0start()\\xA0throws\\xA0InterruptedException,\\xA0IOException\\xA0',this.s,__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0int\\xA0sleep=\\xA0random.nextInt(100);',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0TimeUnit.MILLISECONDS.sleep(sleep);',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0Request\\xA0request\\xA0=\\xA0new\\xA0Request.Builder().url(\"http://localhost:9090/foo\").get().build();',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0Response\\xA0response\\xA0=\\xA0client.newCall(request).execute();',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0return\\xA0\"\\xA0[service1\\xA0sleep\\xA0\"\\xA0+\\xA0sleep+\"\\xA0ms]\"\\xA0+\\xA0response.body().toString();',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'\\xA0\\xA0\\xA0\\xA0}',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null))),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('p',null,'HomeController\\u4E2D\\u5229\\u7528OkHttpClient\\u8C03\\u7528\\u53D1\\u8D77http\\u8BF7\\u6C42\\u3002\\u5728\\u6BCF\\u6B21\\u53D1\\u8D77\\u8BF7\\u6C42\\u65F6\\u5219\\u9700\\u8981\\u901A\\u8FC7brave\\u8BB0\\u5F55Span\\u4FE1\\u606F\\uFF0C\\u5E76\\u5F02\\u6B65\\u4F20\\u9012\\u7ED9zipkin \\u4F5C\\u4E3A\\u88AB\\u8C03\\u7528\\u65B9(\\u670D\\u52A1\\u7AEF)\\u4E5F\\u540C\\u6837\\u9700\\u8981\\u5B8C\\u6210\\u4EE5\\u4E0A\\u64CD\\u4F5C.'),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('p',null,'ZipkinConfig.java'),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('pre',null,__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('code',null,'@Configuration',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'public\\xA0class\\xA0ZipkinConfig\\xA0',this.s,__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'\\xA0\\xA0\\xA0\\xA0@Autowired',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'\\xA0\\xA0\\xA0\\xA0private\\xA0ZipkinProperties\\xA0properties;',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'\\xA0\\xA0\\xA0\\xA0@Bean',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'\\xA0\\xA0\\xA0\\xA0public\\xA0SpanCollector\\xA0spanCollector()\\xA0',this.s,__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0HttpSpanCollector.Config\\xA0config\\xA0=\\xA0HttpSpanCollector.Config.builder().connectTimeout(properties.getConnectTimeout()).readTimeout(properties.getReadTimeout())',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0.compressionEnabled(properties.isCompressionEnabled()).flushInterval(properties.getFlushInterval()).build();',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0return\\xA0HttpSpanCollector.create(properties.getUrl(),\\xA0config,\\xA0new\\xA0EmptySpanCollectorMetricsHandler());',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'\\xA0\\xA0\\xA0\\xA0}',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'\\xA0\\xA0\\xA0\\xA0@Bean',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'\\xA0\\xA0\\xA0\\xA0public\\xA0Brave\\xA0brave(SpanCollector\\xA0spanCollector)',this.s,__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0Brave.Builder\\xA0builder\\xA0=\\xA0new\\xA0Brave.Builder(properties.getServiceName());\\xA0\\xA0//\\u6307\\u5B9Astate',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0builder.spanCollector(spanCollector);',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0builder.traceSampler(Sampler.ALWAYS_SAMPLE);',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0Brave\\xA0brave\\xA0=\\xA0builder.build();',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0return\\xA0brave;',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'\\xA0\\xA0\\xA0\\xA0}',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'\\xA0\\xA0\\xA0\\xA0@Bean',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'\\xA0\\xA0\\xA0\\xA0public\\xA0BraveServletFilter\\xA0braveServletFilter(Brave\\xA0brave)',this.s,__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0BraveServletFilter\\xA0filter\\xA0=\\xA0new\\xA0BraveServletFilter(brave.serverRequestInterceptor(),brave.serverResponseInterceptor(),new\\xA0DefaultSpanNameProvider());',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0return\\xA0filter;',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'\\xA0\\xA0\\xA0\\xA0}',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'\\xA0\\xA0\\xA0\\xA0@Bean',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'\\xA0\\xA0\\xA0\\xA0public\\xA0OkHttpClient\\xA0okHttpClient(Brave\\xA0brave)',this.s,__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0OkHttpClient\\xA0client\\xA0=\\xA0new\\xA0OkHttpClient.Builder()',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0.addInterceptor(new\\xA0BraveOkHttpRequestResponseInterceptor(brave.clientRequestInterceptor(),\\xA0brave.clientResponseInterceptor(),\\xA0new\\xA0DefaultSpanNameProvider()))',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0.build();',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0return\\xA0client;',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'\\xA0\\xA0\\xA0\\xA0}',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'}',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null))),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('ul',null,__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('li',null,'SpanCollector \\u914D\\u7F6E\\u6536\\u96C6\\u5668'),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('li',null,__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('code',null,'Brave'),' \\u5404\\u5DE5\\u5177\\u7C7B\\u7684\\u5C01\\u88C5,\\u5176\\u4E2D',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('code',null,'builder.traceSampler(Sampler.ALWAYS_SAMPLE)'),'\\u8BBE\\u7F6E\\u91C7\\u6837\\u6BD4\\u7387\\uFF0C0-1\\u4E4B\\u95F4\\u7684\\u767E\\u5206\\u6BD4'),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('li',null,'BraveServletFilter \\u4F5C\\u4E3A\\u62E6\\u622A\\u5668\\uFF0C\\u9700\\u8981serverRequestInterceptor,serverResponseInterceptor \\u5206\\u522B\\u5B8C\\u6210sr\\u548Css\\u64CD\\u4F5C'),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('li',null,__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('code',null,'OkHttpClient'),' \\u6DFB\\u52A0\\u62E6\\u622A\\u5668\\uFF0C\\u9700\\u8981',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('code',null,'clientRequestInterceptor'),',',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('code',null,'clientResponseInterceptor'),' \\u5206\\u522B\\u5B8C\\u6210',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('code',null,'cs'),'\\u548C',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('code',null,'cr'),'\\u64CD\\u4F5C,\\u8BE5\\u529F\\u80FD\\u7531 brave\\u4E2D\\u7684',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('code',null,'brave-okhttp'),'\\u6A21\\u5757\\u63D0\\u4F9B\\uFF0C\\u540C\\u6837\\u7684\\u9053\\u7406\\u5982\\u679C\\u9700\\u8981\\u8BB0\\u5F55\\u6570\\u636E\\u5E93\\u7684\\u5EF6\\u8FDF\\u53EA\\u8981\\u5728\\u6570\\u636E\\u5E93\\u64CD\\u4F5C\\u524D\\u540E\\u5B8C\\u6210',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('code',null,'cs'),'\\u548C',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('code',null,'cr'),'\\u5373\\u53EF\\uFF0C\\u5F53\\u7136brave\\u63D0\\u4F9B\\u5176\\u5C01\\u88C5\\u3002')),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('p',null,'\\u4EE5\\u4E0A\\u8FD8\\u7F3A\\u5C11\\u4E00\\u4E2A\\u914D\\u7F6E\\u4FE1\\u606FZipkinProperties.java'),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('p',null,'\\u5219\\u53EF\\u4EE5\\u5728\\u914D\\u7F6E\\u6587\\u4EF6application.properties\\u4E2D\\u914D\\u7F6E\\u76F8\\u5173\\u4FE1\\u606F'),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('pre',null,__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('code',null,'com.zipkin.serviceName=service1',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'com.zipkin.url=http://110.173.14.57:9411',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'com.zipkin.connectTimeout=6000',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'com.zipkin.readTimeout=6000',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'com.zipkin.flushInterval=1',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'com.zipkin.compressionEnabled=true',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'server.port=8080',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null))),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('h2',{id:'zipkin\\u5982\\u4F55\\u5B9E\\u73B0\\u94FE\\u8DEF\\u8FFD\\u8E2A\\u7684\\u5462\\uFF1F'},__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('a',{href:'javascript:void(0)','class':'anchor'},'zipkin\\u5982\\u4F55\\u5B9E\\u73B0\\u94FE\\u8DEF\\u8FFD\\u8E2A\\u7684\\u5462\\uFF1F')),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('p',null,'2010\\u5E74\\u8C37\\u6B4C\\u53D1\\u8868\\u4E86\\u5176\\u5185\\u90E8\\u4F7F\\u7528\\u7684\\u5206\\u5E03\\u5F0F\\u8DDF\\u8E2A\\u7CFB\\u7EDFDapper\\u7684\\u8BBA\\u6587\\uFF08',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('a',{href:'http://static.googleusercontent.com/media/research.google.com/zh-CN//archive/papers/dapper-2010-1.pdf',target:'_blank'},'http://static.googleusercontent.com/media/research.google.com/zh-CN//archive/papers/dapper-2010-1.pdf'),'\\uFF0C\\u8BD1\\u6587\\u5730\\u5740\\uFF1A',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('a',{href:'http://bigbully.github.io/Dapper-translation/',target:'_blank'},'http://bigbully.github.io/Dapper-translation/'),'\\uFF09\\uFF0C\\u8BB2\\u8FF0\\u4E86Dapper\\u5728\\u8C37\\u6B4C\\u5185\\u90E8\\u4E24\\u5E74\\u7684\\u6F14\\u53D8\\u548C\\u8BBE\\u8BA1\\u3001\\u8FD0\\u7EF4\\u7ECF\\u9A8C\\uFF0CTwitter\\u4E5F\\u6839\\u636E\\u8BE5\\u8BBA\\u6587\\u5F00\\u53D1\\u4E86\\u81EA\\u5DF1\\u7684\\u5206\\u5E03\\u5F0F\\u8DDF\\u8E2A\\u7CFB\\u7EDFZipkin\\uFF0C\\u5E76\\u5C06\\u5176\\u5F00\\u6E90\\uFF0C\\u4F46\\u4E0D\\u77E5\\u4E3A\\u5565\\u6CA1\\u6709\\u8D21\\u732E\\u7ED9Apache\\u3002\\u5176\\u5B9E\\u8FD8\\u6709\\u5F88\\u591A\\u7684\\u5206\\u5E03\\u5F0F\\u8DDF\\u8E2A\\u7CFB\\u7EDF\\uFF0C\\u6BD4\\u5982Apache\\u7684HTrace\\uFF0C\\u963F\\u91CC\\u7684\\u9E70\\u773CTracing\\u3001\\u4EAC\\u4E1C\\u7684Hydra\\u3001\\u65B0\\u6D6A\\u7684Watchman\\u7B49\\u3002'),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('p',null,'      \\u5927\\u578B\\u4E92\\u8054\\u7F51\\u516C\\u53F8\\u4E3A\\u4EC0\\u4E48\\u9700\\u8981\\u5206\\u5E03\\u5F0F\\u8DDF\\u8E2A\\u7CFB\\u7EDF\\uFF1F\\u4E3A\\u4E86\\u652F\\u6491\\u65E5\\u76CA\\u589E\\u957F\\u7684\\u5E9E\\u5927\\u4E1A\\u52A1\\u91CF\\uFF0C\\u6211\\u4EEC\\u4F1A\\u628A\\u670D\\u52A1\\u8FDB\\u884C\\u6574\\u5408\\u3001\\u62C6\\u5206\\uFF0C\\u4F7F\\u6211\\u4EEC\\u7684\\u670D\\u52A1\\u4E0D\\u4EC5\\u80FD\\u901A\\u8FC7\\u96C6\\u7FA4\\u90E8\\u7F72\\u62B5\\u6321\\u6D41\\u91CF\\u7684\\u51B2\\u51FB\\uFF0C\\u53C8\\u80FD\\u6839\\u636E\\u4E1A\\u52A1\\u5728\\u5176\\u4E0A\\u8FDB\\u884C\\u7075\\u6D3B\\u7684\\u6269\\u5C55\\u3002\\u4E00\\u6B21\\u8BF7\\u6C42\\u5C11\\u5219\\u7ECF\\u8FC7\\u4E09\\u56DB\\u6B21\\u670D\\u52A1\\u8C03\\u7528\\u5B8C\\u6210\\uFF0C\\u591A\\u5219\\u8DE8\\u8D8A\\u51E0\\u5341\\u4E2A\\u751A\\u81F3\\u662F\\u4E0A\\u767E\\u4E2A\\u670D\\u52A1\\u8282\\u70B9\\u3002\\u5982\\u4F55\\u52A8\\u6001\\u5C55\\u793A\\u670D\\u52A1\\u7684\\u94FE\\u8DEF\\uFF1F\\u5982\\u4F55\\u5206\\u6790\\u670D\\u52A1\\u94FE\\u8DEF\\u7684\\u74F6\\u9888\\u5E76\\u5BF9\\u5176\\u8FDB\\u884C\\u8C03\\u4F18\\uFF1F\\u5982\\u4F55\\u5FEB\\u901F\\u8FDB\\u884C\\u670D\\u52A1\\u94FE\\u8DEF\\u7684\\u6545\\u969C\\u53D1\\u73B0\\uFF1F\\u8FD9\\u5C31\\u662F\\u670D\\u52A1\\u8DDF\\u8E2A\\u7CFB\\u7EDF\\u5B58\\u5728\\u7684\\u76EE\\u7684\\u548C\\u610F\\u4E49\\u3002'),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('p',null,'     \\u5373\\u4F7F\\u4F5C\\u4E3A\\u5206\\u5E03\\u5F0F\\u7CFB\\u7EDF\\u7684\\u5F00\\u53D1\\u8005\\uFF0C\\u4E5F\\u5F88\\u96BE\\u6E05\\u695A\\u7684\\u8BF4\\u51FA\\u67D0\\u4E2A\\u670D\\u52A1\\u7684\\u8C03\\u7528\\u94FE\\u8DEF\\uFF0C\\u51B5\\u4E14\\u670D\\u52A1\\u8C03\\u7528\\u94FE\\u8DEF\\u8FD8\\u662F\\u52A8\\u6001\\u53D8\\u5316\\u7684\\uFF0C\\u8FD9\\u65F6\\u5019\\u53EA\\u80FD\\u54AC\\u54AC\\u7259\\u7FFB\\u4EE3\\u7801\\u4E86\\u3002\\u63A5\\u4E0B\\u6765\\uFF0C\\u6211\\u4EEC\\u770B\\u770BZipkin\\u662F\\u5982\\u4F55\\u505A\\u5230\\u8FD9\\u4E00\\u70B9\\u7684\\u3002\\u5728\\u8FD9\\u4E4B\\u524D\\uFF0C\\u6211\\u4EEC\\u5148\\u6765\\u7B80\\u5355\\u8BA8\\u8BBA\\u4E00\\u4E0B\\u5206\\u5E03\\u5F0F\\u8DDF\\u8E2A\\u7CFB\\u7EDF\\u7684\\u8BBE\\u8BA1\\u8981\\u70B9\\uFF0C',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('strong',null,'\\u7B2C\\u4E00\\u70B9\\uFF1A\\u5BF9\\u5E94\\u7528\\u900F\\u660E\\u3001\\u4F4E\\u4FB5\\u5165'),'\\u3002\\u4E3A\\u4EC0\\u4E48\\u8BF4\\u8FD9\\u4E00\\u70B9\\u6700\\u91CD\\u8981\\uFF1F\\u56E0\\u4E3A\\u5206\\u5E03\\u5F0F\\u7CFB\\u7EDF\\u9762\\u5BF9\\u7684\\u5BA2\\u6237\\u662F\\u5F00\\u53D1\\u8005\\uFF0C\\u5982\\u679C\\u4ED6\\u4EEC\\u7684\\u7CFB\\u7EDF\\u9700\\u8981\\u82B1\\u8D39\\u8F83\\u5927\\u7684\\u6539\\u9020\\u624D\\u80FD\\u63A5\\u5165\\u4F60\\u7684\\u5206\\u5E03\\u5F0F\\u8DDF\\u8E2A\\u7CFB\\u7EDF\\uFF0C\\u9664\\u975E\\u4F60\\u662F\\u4ED6\\u7684\\u8001\\u677F\\uFF0C\\u5426\\u5219\\u4ED6\\u4F1A\\u76F4\\u63A5\\u548C\\u4F60\\u8BF4\\uFF1ANo\\uFF01\\uFF01\\u6CA1\\u4EBA\\u7528\\u662F\\u6700\\u60E8\\u7684\\u7ED3\\u679C\\u3002\\u90A3\\u4E48\\u600E\\u4E48\\u624D\\u80FD\\u505A\\u5230\\u5BF9\\u4E1A\\u52A1\\u7CFB\\u7EDF\\u6700\\u4F4E\\u7684\\u4FB5\\u5165\\u6027\\u5462\\uFF1FDapper\\u7ED9\\u51FA\\u7684\\u5EFA\\u8BAE\\u662F\\u5728\\u516C\\u5171\\u5E93\\u548C\\u4E2D\\u95F4\\u4EF6\\u4E0A\\u505A\\u6587\\u7AE0\\u3002\\u6CA1\\u9519\\uFF0C\\u5206\\u5E03\\u5F0F\\u7CFB\\u7EDF\\u4E4B\\u95F4\\u7684\\u901A\\u8BAF\\u9760\\u7684\\u90FD\\u662FRPC\\u3001MQ\\u7B49\\u4E2D\\u95F4\\u4EF6\\u7CFB\\u7EDF\\uFF0C\\u5373\\u4F7F\\u662F\\u5185\\u90E8\\u4F7F\\u7528\\u7684\\u7EBF\\u7A0B\\u6C60\\u6216\\u8005\\u6570\\u636E\\u5E93\\u8FDE\\u63A5\\u6C60\\uFF0C\\u5927\\u591A\\u4E5F\\u662F\\u4F7F\\u7528\\u7ECF\\u8FC7\\u516C\\u53F8\\u5305\\u88C5\\u516C\\u5171\\u5E93\\uFF0C\\u8FD9\\u5C31\\u7ED9\\u670D\\u52A1\\u8DDF\\u8E2A\\u5E26\\u6765\\u4E86\\u673A\\u4F1A\\uFF0C\\u6211\\u53EA\\u8981\\u5BF9\\u4E2D\\u95F4\\u4EF6\\u548C\\u516C\\u5171\\u5E93\\u8FDB\\u884C\\u6539\\u9020\\uFF0C\\u5C31\\u51E0\\u4E4E\\u53EF\\u4EE5\\u505A\\u5230\\u5168\\u65B9\\u4F4D\\u8DDF\\u8E2A\\uFF0C\\u5F53\\u7136\\uFF0C\\u8FD9\\u4E5F\\u662F\\u6709\\u96BE\\u5EA6\\u7684\\uFF1B',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('strong',null,'\\u7B2C\\u4E8C\\u70B9\\uFF1A\\u4F4E\\u5F00\\u9500\\u3001\\u9AD8\\u7A33\\u5B9A'),'\\u3002\\u5927\\u591A\\u6570\\u5E94\\u7528\\u4E0D\\u613F\\u610F\\u63A5\\u5165\\u76D1\\u63A7\\u7CFB\\u7EDF\\u7684\\u539F\\u56E0\\u662F\\u6015\\u5F71\\u54CD\\u7EBF\\u4E0A\\u670D\\u52A1\\u5668\\u7684\\u6027\\u80FD\\uFF0C\\u7279\\u522B\\u662F\\u90A3\\u4E9B\\u5BF9\\u6027\\u80FD\\u7279\\u522B\\u654F\\u611F\\u7684\\u5E94\\u7528\\uFF0C\\u6240\\u4EE5\\uFF0C\\u5206\\u5E03\\u5F0F\\u8DDF\\u8E2A\\u7CFB\\u7EDF\\u4E00\\u5B9A\\u8981\\u8F7B\\u91CF\\u7EA7\\uFF0C\\u4E0D\\u80FD\\u6709\\u592A\\u590D\\u6742\\u7684\\u903B\\u8F91\\u548C\\u5916\\u90E8\\u4F9D\\u8D56\\uFF0C\\u751A\\u81F3\\u9700\\u8981\\u505A\\u5230\\u6839\\u636E\\u670D\\u52A1\\u7684\\u6D41\\u91CF\\u6765\\u52A8\\u6001\\u8C03\\u6574\\u91C7\\u96C6\\u5BC6\\u5EA6\\u3002',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('strong',null,'\\u7B2C\\u4E09\\u70B9\\uFF1A\\u53EF\\u6269\\u5C55'),'\\u3002\\u968F\\u7740\\u63A5\\u5165\\u7684\\u5206\\u5E03\\u5F0F\\u7CFB\\u7EDF\\u7684\\u589E\\u591A\\uFF0C\\u538B\\u529B\\u4E5F\\u5C06\\u4E0D\\u65AD\\u589E\\u957F\\uFF0C\\u5206\\u5E03\\u5F0F\\u8DDF\\u8E2A\\u7CFB\\u7EDF\\u662F\\u5426\\u80FD\\u52A8\\u6001\\u7684\\u6269\\u5C55\\u6765\\u652F\\u6491\\u4E0D\\u65AD\\u63A5\\u5165\\u7684\\u4E1A\\u52A1\\u7CFB\\u7EDF\\uFF0C\\u8FD9\\u4E5F\\u662F\\u8BBE\\u8BA1\\u65F6\\u9700\\u8981\\u8003\\u8651\\u7684\\u3002\\u53EF\\u4EE5\\u770B\\u51FA\\uFF0C\\u8FD9\\u4E09\\u70B9\\u5E76\\u6CA1\\u6709\\u4EC0\\u4E48\\u7279\\u522B\\uFF0C\\u5BF9\\u4E8E\\u670D\\u52A1\\u964D\\u7EA7\\u7CFB\\u7EDF\\u3001\\u5206\\u5E03\\u5F0F\\u8DDF\\u8E2A\\u7CFB\\u7EDF\\u548C\\u4E1A\\u52A1\\u76D1\\u63A7\\u7CFB\\u7EDF\\u7B49\\uFF0C\\u8FD9\\u4E09\\u70B9\\u90FD\\u662F\\u5FC5\\u987B\\u7684\\u3002'),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('p',null,'\\xA0'),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('p',null,'Zipkin\\u7684\\u8BBE\\u8BA1\\uFF0C\\u4E00\\u822C\\u7684\\u5206\\u5E03\\u5F0F\\u8DDF\\u8E2A\\u7CFB\\u7EDF\\u6570\\u636E\\u6D41\\u4E3B\\u8981\\u5206\\u4E3A\\u4E09\\u4E2A\\u6B65\\u9AA4\\uFF1A\\u91C7\\u96C6\\u3001\\u53D1\\u9001\\u548C\\u843D\\u76D8\\u5206\\u6790\\uFF0C\\u6211\\u4EEC\\u6765\\u770BZipkin\\u5B98\\u7F51\\u7ED9\\u51FA\\u7684\\u8BBE\\u8BA1\\u56FE\\uFF1A'),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('p',null,__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('img',{src:'http://img.blog.csdn.net/20161014000053465?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center',alt:''})),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('p',null,'\\u5176\\u4E2D\\u7684S\\u8868\\u793A\\u7684\\u662F\\u53D1\\u9001\\u8DDF\\u8E2A\\u6570\\u636E\\u7684\\u5BA2\\u6237\\u7AEFSDK\\u8FD8\\u662FScribe\\u7684\\u5BA2\\u6237\\u7AEF(\\u56E0\\u4E3ATwitter\\u5185\\u90E8\\u91C7\\u7528\\u7684\\u5C31\\u662FScribe\\u6765\\u91C7\\u96C6\\u8DDF\\u8E2A\\u6570\\u636E)\\uFF1F\\u6548\\u679C\\u90FD\\u4E00\\u6837\\uFF0C\\u603B\\u800C\\u8A00\\u4E4B\\u6211\\u4EEC\\u770B\\u5230\\u7684\\u5C31\\u662F\\u5404\\u4E2A\\u5E94\\u7528\\u3001\\u4E2D\\u95F4\\u4EF6\\u751A\\u81F3\\u662F\\u6570\\u636E\\u5E93\\u5C06\\u8DDF\\u8E2A\\u6570\\u636E\\u53D1\\u9001\\u5230Zipkin\\u670D\\u52A1\\u5668\\u3002'),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('p',null,'\\u603B\\u4F53\\u8BBE\\u8BA1\\u6CA1\\u4EC0\\u4E48\\u7279\\u522B\\uFF0C\\u6211\\u4EEC\\u770B\\u4E0B\\u5185\\u90E8\\u7684\\u6570\\u636E\\u6A21\\u578B\\u662F\\u600E\\u4E48\\u8BBE\\u8BA1\\u7684\\u3002\\u4E00\\u822C\\u7684\\u8C03\\u7528\\u94FE\\u90FD\\u53EF\\u4EE5\\u5C55\\u73B0\\u6210\\u4E00\\u9897\\u6811\\uFF0C\\u6BD4\\u5982\\u4E0B\\u9762\\u7684\\u7B80\\u5355\\u8C03\\u7528\\uFF1A'),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('p',null,__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('img',{src:'http://img.blog.csdn.net/20161014000321045?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center',alt:''})),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('p',null,' \\u4E0A\\u56FE\\u63CF\\u8FF0\\u7684\\u670D\\u52A1\\u8C03\\u7528\\u573A\\u666F\\u5E94\\u8BE5\\u662F\\u5F88\\u5E38\\u89C1\\u4E5F\\u5F88\\u7B80\\u5355\\u7684\\u8C03\\u7528\\u573A\\u666F\\u4E86\\uFF0C\\u4E00\\u4E2A\\u8BF7\\u6C42\\u901A\\u8FC7Gateway\\u670D\\u52A1\\u8DEF\\u7531\\u5230\\u4E0B\\u6E38\\u7684Service1\\uFF0C\\u7136\\u540EService1\\u5148\\u8C03\\u7528\\u670D\\u52A1Service2\\uFF0C\\u62FF\\u5230\\u7ED3\\u679C\\u540E\\u518D\\u8C03\\u7528\\u670D\\u52A1Service3\\uFF0C\\u6700\\u540E\\u7EC4\\u5408Service2\\u548CService3\\u670D\\u52A1\\u7684\\u7ED3\\u679C\\uFF0C\\u901A\\u8FC7Gateway\\u8FD4\\u56DE\\u7ED9\\u7528\\u6237\\u3002\\u6211\\u4EEC\\u7528\\u2460\\u2461\\u2462\\u2463\\u2464\\u2465\\u8868\\u793A\\u4E86RPC\\u7684\\u987A\\u5E8F\\uFF0C\\u90A3\\u4E48\\uFF0C\\u4EC0\\u4E48\\u662Fspan\\uFF1Fspan\\u76F4\\u8BD1\\u8FC7\\u6765\\u662F\"\\u8DE8\\u5EA6\"\\uFF0C\\u5728\\u8C37\\u6B4C\\u7684Dapper\\u8BBA\\u6587\\u4E2D\\u8868\\u793A\\u8DDF\\u8E2A\\u6811\\u4E2D\\u6811\\u8282\\u70B9\\u5F15\\u7528\\u7684\\u6570\\u636E\\u7ED3\\u6784\\u4F53\\uFF0Cspan\\u662F\\u8DDF\\u8E2A\\u7CFB\\u7EDF\\u4E2D\\u7684\\u57FA\\u672C\\u6570\\u636E\\u5355\\u5143\\uFF0CDapper\\u7684\\u8BBA\\u6587\\u4E2D\\uFF0C\\u5E76\\u6CA1\\u6709\\u5177\\u4F53\\u4ECB\\u7ECDspan\\u4E2D\\u7684\\u5168\\u90E8\\u7EC6\\u8282\\uFF0C\\u4F46\\u5728Zipkin\\u4E2D\\uFF0C\\u6BCF\\u4E2Aspan\\u4E2D\\u4E00\\u822C\\u5305\\u542B\\u5982\\u4E0B\\u5B57\\u6BB5\\uFF1A'),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('p',null,__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('strong',null,'traceId\\uFF1A\\u5168\\u5C40\\u8DDF\\u8E2AID'),'\\uFF0C\\u7528\\u5B83\\u6765\\u6807\\u8BB0\\u4E00\\u6B21\\u5B8C\\u6574\\u670D\\u52A1\\u8C03\\u7528\\uFF0C\\u6240\\u4EE5\\u548C\\u4E00\\u6B21\\u670D\\u52A1\\u8C03\\u7528\\u76F8\\u5173\\u7684span\\u4E2D\\u7684traceId\\u90FD\\u662F\\u76F8\\u540C\\u7684\\uFF0CZipkin\\u5C06\\u5177\\u6709\\u76F8\\u540CtraceId\\u7684span\\u7EC4\\u88C5\\u6210\\u8DDF\\u8E2A\\u6811\\u6765\\u76F4\\u89C2\\u7684\\u5C06\\u8C03\\u7528\\u94FE\\u8DEF\\u56FE\\u5C55\\u73B0\\u5728\\u6211\\u4EEC\\u9762\\u524D\\u3002\\u8FD9\\u91CC\\u76F4\\u63A5\\u7ED9\\u51FAZipkin\\u5B98\\u7F51\\u4E2D\\u7684\\u4E00\\u5F20Zipkin\\u754C\\u9762\\u7684\\u56FE\\uFF1A'),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('p',null,__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('img',{src:'http://img.blog.csdn.net/20161014000342161?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center',alt:''})),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('p',null,'id\\uFF1Aspan\\u7684id\\uFF0C\\u7406\\u8BBA\\u4E0A\\u6765\\u8BF4\\uFF0Cspan\\u7684id\\u53EA\\u8981\\u505A\\u5230\\u4E00\\u4E2AtraceId\\u4E0B\\u552F\\u4E00\\u5C31\\u53EF\\u4EE5\\uFF0C\\u6BD4\\u5982\\u8BF4\\u963F\\u91CC\\u7684\\u9E70\\u773C\\u7CFB\\u7EDF\\u5DE7\\u5999\\u7528span\\u7684id\\u6765\\u4F53\\u73B0\\u8C03\\u7528\\u5C42\\u6B21\\u5173\\u7CFB\\uFF08\\u4F8B\\u59820\\uFF0C0.1\\uFF0C0.2\\uFF0C0.1.1\\u7B49\\uFF09\\uFF0C\\u4F46Zipkin\\u4E2D\\u7684span\\u7684id\\u5219\\u6CA1\\u6709\\u4EC0\\u4E48\\u5B9E\\u9645\\u542B\\u4E49\\u3002'),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('p',null,'parentId\\uFF1A\\u7236span\\u7684id\\uFF0C\\u8C03\\u7528\\u6709\\u5C42\\u7EA7\\u5173\\u7CFB\\uFF0C\\u6240\\u4EE5span\\u4F5C\\u4E3A\\u8C03\\u7528\\u8282\\u70B9\\u7684\\u5B58\\u50A8\\u7ED3\\u6784\\uFF0C\\u4E5F\\u6709\\u5C42\\u7EA7\\u5173\\u7CFB\\u3002'),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('p',null,'name\\uFF1Aspan\\u7684\\u540D\\u79F0\\uFF0C\\u4E3B\\u8981\\u7528\\u4E8E\\u5728\\u754C\\u9762\\u4E0A\\u5C55\\u793A\\uFF0C\\u4E00\\u822C\\u662F\\u63A5\\u53E3\\u65B9\\u6CD5\\u540D\\uFF0Cname\\u7684\\u4F5C\\u7528\\u662F\\u8BA9\\u4EBA\\u77E5\\u9053\\u5B83\\u662F\\u54EA\\u91CC\\u91C7\\u96C6\\u7684span\\uFF0C\\u4E0D\\u7136\\u67D0\\u4E2Aspan\\u8017\\u65F6\\u9AD8\\u6211\\u90FD\\u4E0D\\u77E5\\u9053\\u662F\\u54EA\\u4E2A\\u670D\\u52A1\\u8282\\u70B9\\u8017\\u65F6\\u9AD8\\u3002'),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('p',null,'timestamp\\uFF1Aspan\\u521B\\u5EFA\\u65F6\\u7684\\u65F6\\u95F4\\u6233\\uFF0C\\u7528\\u6765\\u8BB0\\u5F55\\u91C7\\u96C6\\u7684\\u65F6\\u523B\\u3002'),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('p',null,'duration\\uFF1A\\u6301\\u7EED\\u65F6\\u95F4\\uFF0C\\u5373span\\u7684\\u521B\\u5EFA\\u5230span\\u5B8C\\u6210\\u6700\\u7EC8\\u7684\\u91C7\\u96C6\\u6240\\u7ECF\\u5386\\u7684\\u65F6\\u95F4\\uFF0C\\u9664\\u53BBspan\\u81EA\\u5DF1\\u903B\\u8F91\\u5904\\u7406\\u7684\\u65F6\\u95F4\\uFF0C\\u8BE5\\u65F6\\u95F4\\u6BB5\\u53EF\\u4EE5\\u7406\\u89E3\\u6210\\u5BF9\\u4E8E\\u8BE5\\u8DDF\\u8E2A\\u57CB\\u70B9\\u6765\\u8BF4\\u670D\\u52A1\\u8C03\\u7528\\u7684\\u603B\\u8017\\u65F6\\u3002'),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('p',null,'annotations\\uFF1A\\u57FA\\u672C\\u6807\\u6CE8\\u5217\\u8868\\uFF0C\\u4E00\\u4E2A\\u6807\\u6CE8\\u53EF\\u4EE5\\u7406\\u89E3\\u6210span\\u751F\\u547D\\u5468\\u671F\\u4E2D\\u91CD\\u8981\\u65F6\\u523B\\u7684\\u6570\\u636E\\u5FEB\\u7167\\uFF0C\\u6BD4\\u5982\\u4E00\\u4E2A\\u6807\\u6CE8\\u4E2D\\u4E00\\u822C\\u5305\\u542B\\u53D1\\u751F\\u65F6\\u523B\\uFF08timestamp\\uFF09\\u3001\\u4E8B\\u4EF6\\u7C7B\\u578B\\uFF08value\\uFF09\\u3001\\u7AEF\\u70B9\\uFF08endpoint\\uFF09\\u7B49\\u4FE1\\u606F\\uFF0C\\u8FD9\\u91CC\\u7ED9\\u51FA\\u4E00\\u4E2A\\u6807\\u6CE8\\u7684json\\u7ED3\\u6784\\uFF1A'),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('pre',null,__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('code',null,this.s,__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'\\xA0\\xA0\"timestamp\":1476197069680000,',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'\\xA0\\xA0\"value\":\\xA0\"cs\",',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'\\xA0\\xA0\"endpoint\":\\xA0',this.s,__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'\\xA0\\xA0 \"serviceName\":\\xA0\"service1\",',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'\\xA0\\xA0 \"ipv4\":\\xA0\"xxx.xxx.xxx.111\"',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'\\xA0\\xA0}',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null),'}',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('br',null))),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('p',null,'\\u90A3\\u4E48\\uFF0C\\u6709\\u54EA\\u4E9B\\u4E8B\\u4EF6\\u7C7B\\u578B\\u5462\\uFF1F\\u7B54\\u6848\\u662F\\u56DB\\u79CD\\uFF1Acs\\uFF08\\u5BA2\\u6237\\u7AEF/\\u6D88\\u8D39\\u8005\\u53D1\\u8D77\\u8BF7\\u6C42\\uFF09\\u3001cr\\uFF08\\u5BA2\\u6237\\u7AEF/\\u6D88\\u8D39\\u8005\\u63A5\\u6536\\u5230\\u5E94\\u7B54\\uFF09\\u3001sr\\uFF08\\u670D\\u52A1\\u7AEF/\\u751F\\u4EA7\\u8005\\u63A5\\u6536\\u5230\\u8BF7\\u6C42\\uFF09\\u548Css\\uFF08\\u670D\\u52A1\\u7AEF/\\u751F\\u4EA7\\u8005\\u53D1\\u9001\\u5E94\\u7B54\\uFF09\\u3002\\u53EF\\u4EE5\\u770B\\u51FA\\uFF0C\\u8FD9\\u56DB\\u79CD\\u4E8B\\u4EF6\\u7C7B\\u578B\\u7684\\u7EDF\\u8BA1\\u90FD\\u5E94\\u8BE5\\u662FZipkin\\u63D0\\u4F9B\\u5BA2\\u6237\\u7AEF\\u6765\\u505A\\u7684\\uFF0C\\u56E0\\u4E3A\\u8FD9\\u4E9B\\u4E8B\\u4EF6\\u548C\\u4E1A\\u52A1\\u65E0\\u5173\\uFF0C\\u8FD9\\u4E5F\\u662F\\u4E3A\\u4EC0\\u4E48\\u8DDF\\u8E2A\\u6570\\u636E\\u7684\\u91C7\\u96C6\\u9002\\u5408\\u653E\\u5230\\u4E2D\\u95F4\\u4EF6\\u6216\\u8005\\u516C\\u5171\\u5E93\\u6765\\u505A\\u7684\\u539F\\u56E0\\u3002'),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('p',null,'binaryAnnotations\\uFF1A\\u4E1A\\u52A1\\u6807\\u6CE8\\u5217\\u8868\\uFF0C\\u5982\\u679C\\u67D0\\u4E9B\\u8DDF\\u8E2A\\u57CB\\u70B9\\u9700\\u8981\\u5E26\\u4E0A\\u90E8\\u5206\\u4E1A\\u52A1\\u6570\\u636E\\uFF08\\u6BD4\\u5982url\\u5730\\u5740\\u3001\\u8FD4\\u56DE\\u7801\\u548C\\u5F02\\u5E38\\u4FE1\\u606F\\u7B49\\uFF09\\uFF0C\\u53EF\\u4EE5\\u5C06\\u9700\\u8981\\u7684\\u6570\\u636E\\u4EE5\\u952E\\u503C\\u5BF9\\u7684\\u5F62\\u5F0F\\u653E\\u5165\\u5230\\u8FD9\\u4E2A\\u5B57\\u6BB5\\u4E2D\\u3002'),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('p',null,'\\xA0'),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('p',null,'\\u8BF4\\u5230\\u8FD9\\u91CC\\uFF0C\\u5927\\u5BB6\\u5BF9span\\u7684\\u5370\\u8C61\\u53EF\\u80FD\\u8FD8\\u662F\\u6709\\u70B9\\u6A21\\u7CCA\\u4E0D\\u6E05\\uFF0C\\u4E8E\\u662F\\u6211\\u4EEC\\u7EE7\\u7EED\\u62FF\\u56FE2\\u7684\\u670D\\u52A1\\u8C03\\u7528\\u6765\\u4E3E\\u4F8B\\uFF0C\\u5982\\u679C\\u6211\\u4EEC\\u5C06\\u56FE2\\u7684\\u5E94\\u7528\\u63A5\\u5165Zipkin\\uFF0C\\u5C06\\u4F1A\\u662F\\u4E0B\\u56FE\\u7684\\u6548\\u679C\\uFF1A'),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('p',null,__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('img',{src:'http://img.blog.csdn.net/20161014000409686?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center',alt:''})),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('p',null,'      \\u8FD9\\u91CC\\u6211\\u4EEC\\u770B\\u5230\\uFF0CGateway\\u3001Service1\\u3001Service2\\u548CService3\\u90FD\\u5728\\u5F80Zipkin\\u53D1\\u9001\\u8DDF\\u8E2A\\u6570\\u636E\\uFF0C\\u4F60\\u4E00\\u5B9A\\u4F1A\\u611F\\u89C9\\u5947\\u602A\\uFF0CGateway\\u4F5C\\u4E3A\\u670D\\u52A1\\u8C03\\u7528\\u7684\\u8D77\\u70B9\\uFF0C\\u96BE\\u9053\\u4E0D\\u662F\\u7531Service1\\u3001Service2\\u548CService3\\u628A\\u5404\\u81EA\\u7684\\u8DDF\\u8E2A\\u6570\\u636E\\u4F20\\u56DEGateway\\u7136\\u540E\\u518D\\u7531Gateway\\u7EDF\\u8BA1\\u5E76\\u6574\\u7406\\u597D\\u4E00\\u5E76\\u53D1\\u5F80Zipkin\\u670D\\u52A1\\u7AEF\\u5417\\uFF1F\\u8BA4\\u771F\\u60F3\\u60F3\\u5C31\\u77E5\\u9053\\u8FD9\\u79CD\\u8BBE\\u8BA1\\u7684\\u5F0A\\u7AEF\\uFF0C\\u5982\\u679C\\u4E00\\u6B21\\u5B8C\\u6574\\u7684\\u670D\\u52A1\\u8BF7\\u6C42\\u8C03\\u7528\\u94FE\\u8DEF\\u7279\\u957F\\uFF0C\\u6BD4\\u5982\\u8BBE\\u8BA1\\u4E0A\\u767E\\u4E2A\\u670D\\u52A1\\u8282\\u70B9\\u7684\\u901A\\u8BAF\\uFF0C\\u90A3\\u4E48\\u5C06\\u5404\\u670D\\u52A1\\u8282\\u70B9\\u7684span\\u4FE1\\u606F\\u4F20\\u56DE\\u7ED9\\u9876\\u7EA7span\\u548C\\u5C06\\u8DDF\\u8E2A\\u6570\\u636E\\u6C47\\u603B\\u5E76\\u53D1\\u9001\\u5230Zipkin\\u5C06\\u5E26\\u6765\\u5DE8\\u5927\\u7684\\u7F51\\u7EDC\\u5F00\\u9500\\uFF0C\\u8FD9\\u662F\\u4E0D\\u503C\\u5F53\\u7684\\uFF0C\\u8FD8\\u4E0D\\u5982\\u5C06\\u8DDF\\u8E2A\\u6570\\u636E\\u7EC4\\u88C5\\u7684\\u4EFB\\u52A1\\u76F4\\u63A5\\u4EA4\\u7ED9Zipkin\\u6765\\u505A\\uFF0C\\u8FD9\\u6837Zipkin\\u7684\\u5BA2\\u6237\\u7AEFSDK\\u4E0D\\u9700\\u8981\\u6709\\u8FC7\\u4E8E\\u590D\\u6742\\u7684\\u903B\\u8F91\\uFF0C\\u4E5F\\u8282\\u7701\\u4E86\\u5927\\u91CF\\u7684\\u7F51\\u7EDC\\u5E26\\u5BBD\\u8D44\\u6E90\\uFF0C\\u53EF\\u6269\\u5C55\\u6027\\u5927\\u5927\\u63D0\\u9AD8\\u3002'),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('p',null,'       \\u9700\\u8981\\u6CE8\\u610F\\u7684\\u662F\\uFF0C\\u5E76\\u4E0D\\u662F\\u6BCF\\u4E2Aspan\\u4E0A\\u90FD\\u4F1A\\u5B8C\\u6574\\u7684\\u53D1\\u751Fcs\\u3001cr\\u3001sr\\u548Css\\u8FD9\\u56DB\\u79CD\\u4E8B\\u4EF6\\uFF0C\\u6BD4\\u5982\\u56FE4\\u4E2DGateway\\u4E0A\\u7684span\\u53EA\\u4F1A\\u6709cs\\u548Ccr\\uFF0C\\u56E0\\u4E3AGateway\\u6CA1\\u6709\\u4E0A\\u6E38\\u5E94\\u7528\\uFF0CService2\\u548CService3\\u4E0A\\u7684span\\u6709sr\\u548Css\\uFF0C\\u4F46\\u4E0D\\u4F1A\\u6709cs\\u548Ccr\\uFF0C\\u56E0\\u4E3A\\u5BF9\\u4E8E\\u6B64\\u6B21\\u670D\\u52A1\\u8C03\\u7528\\u6765\\u8BF4\\uFF0CService2\\u548CService3\\u5E76\\u4E0D\\u4F9D\\u8D56\\u4E0B\\u6E38\\u4EFB\\u4F55\\u5E94\\u7528\\u670D\\u52A1\\u3002\\u4F46\\u5BF9\\u4E8EService1\\u6765\\u8BF4\\u5C31\\u590D\\u6742\\u5F97\\u591A\\uFF0C\\u5B83\\u5C06\\u4EA7\\u751F\\u4E09\\u4E2ASpan\\uFF0C\\u63A5\\u6536\\u548C\\u5E94\\u7B54Gateway\\u662F\\u4E00\\u4E2Aspan\\uFF0C\\u8C03\\u7528\\u548C\\u63A5\\u6536Service2\\u662F\\u4E00\\u4E2Aspan\\uFF0C\\u8C03\\u7528\\u548C\\u63A5\\u6536Service3\\u662F\\u7B2C\\u4E09\\u4E2Aspan\\uFF0C\\u6CE8\\u610F\\uFF0C\\u4E00\\u4E2Aspan\\u53EA\\u80FD\\u7528\\u4E8E\\u8BB0\\u5F55\\u4E24\\u4E2A\\u5E94\\u7528\\u4E4B\\u95F4\\u7684\\u670D\\u52A1\\u8C03\\u7528\\uFF0C\\u6240\\u4EE5\\u4E0D\\u80FD\\u5C06\\u8FD9\\u4E09\\u4E2Aspan\\u4FE1\\u606F\\u5408\\u6210\\u4E00\\u4E2A\\u3002\\u7531cs\\u3001cr\\u3001sr\\u548Css\\u4E8B\\u4EF6\\u7684\\u65F6\\u95F4\\uFF0C\\u53EF\\u4EE5\\u5F97\\u51FA\\u5F88\\u591A\\u65F6\\u95F4\\u6570\\u636E\\uFF0C\\u4F8B\\u5982\\uFF1A'),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('p',null,'\\u8BF7\\u6C42\\u603B\\u8017\\u65F6 =Gateway.cr - Gateway.cs'),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('p',null,'\\u2460\\u7684\\u7F51\\u7EDC\\u8017\\u65F6 = Service1.sr - Gateway.cs'),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('p',null,'Service1\\u7684\\u8C03\\u7528Service2\\u7684\\u8017\\u65F6 = Service1.cr - Service1.cs \\uFF08\\u56FE4\\u4E2DService1\\u8282\\u70B9\\u4E0A\\u7684\\u7B2C\\u4E8C\\u4E2Aspan\\u4E2D\\u7684cr\\u548Ccs\\uFF09'),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('p',null,'Service1\\u7684\\u8C03\\u7528Service3\\u7684\\u8017\\u65F6 = Service1.cr - Service1.cs \\uFF08\\u56FE4\\u4E2DService1\\u8282\\u70B9\\u4E0A\\u7684\\u7B2C\\u4E09\\u4E2Aspan\\u4E2D\\u7684cr\\u548Ccs\\uFF09'),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('p',null,'\\u2463\\u7684\\u7F51\\u7EDC\\u8017\\u65F6 = Service3.sr - Service1.cs \\uFF08\\u56FE4\\u4E2DService1\\u8282\\u70B9\\u4E0A\\u7684\\u7B2C\\u4E09\\u4E2Aspan\\u4E2D\\u7684cs\\uFF09'),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('p',null,'\\u53EF\\u4EE5\\u8FD9\\u6837\\u8BF4\\uFF0C\\u5982\\u679C\\u91C7\\u96C6\\u5230\\u8FD9\\u4E9Bspan\\uFF0C\\u51E0\\u4E4E\\u6240\\u6709\\u9636\\u6BB5\\u7684\\u8017\\u65F6\\u90FD\\u53EF\\u4EE5\\u8BA1\\u7B97\\u51FA\\u6765\\u3002'),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('p',null,__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('img',{src:'http://dl2.iteye.com/upload/attachment/0122/3847/53fee587-e86c-305f-834d-1ad3b8d5094f.png',alt:''})),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('p',null,'\\u4E0A\\u56FE\\u7684\\u2460\\u548C\\u2465\\u662F\\u4E00\\u6B21\\u5B8C\\u6574\\u7684RPC\\u8C03\\u7528\\uFF0C\\u5B83\\u53D1\\u751F\\u5728\\u670D\\u52A1\\u56680\\u548C\\u670D\\u52A1\\u56681\\u4E4B\\u95F4\\uFF0C\\u663E\\u800C\\u6613\\u89C1\\u7684\\u662F\\uFF0C\\u7528\\u4E8E\\u63CF\\u8FF0\\u8BE5RPC\\u8C03\\u7528\\u7684Span\\u7684spanId\\u662F1000\\uFF0C\\u6240\\u4EE5\\uFF0C\\u8FD9\\u662F\\u540C\\u4E00\\u4E2ASpan\\u7684\\uFF0C\\u53EA\\u662F\\u5B83\\u7684\\u6570\\u636E\\u6765\\u6E90\\u4E8E\\u4E24\\u53F0\\u4E0D\\u540C\\u7684\\u670D\\u52A1\\u5668\\uFF08\\u5E94\\u7528\\uFF09\\uFF1A\\u670D\\u52A1\\u56680\\u548C\\u670D\\u52A1\\u56681\\u3002',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('strong',null,'\\u5F80\\u4F4E\\u5C42\\u8BF4\\uFF0C\\u8BE5Span\\u7531\\u4E24\\u6761\\u8DDF\\u8E2A\\u65E5\\u5FD7\\u8868\\u793A\\uFF0C\\u4E00\\u6761\\u5728\\u670D\\u52A1\\u56680\\u4E0A\\u88AB\\u91C7\\u96C6\\uFF0C\\u53E6\\u4E00\\u6761\\u5728\\u670D\\u52A1\\u56681\\u4E0A\\u88AB\\u91C7\\u96C6\\uFF0C\\u4ED6\\u4EEC\\u7684Span\\u7684traceId\\u3001spanId\\u548CparentSpanId\\u90FD\\u662F\\u4E00\\u6837\\u7684\\uFF01'),'\\u800C\\u4E14\\u8BE5Span\\u5C06\\u6210\\u4E3A\\u8DDF\\u8E2A\\u6811\\u4E2D\\u7684\\u9876\\u8282\\u70B9\\uFF0C\\u56E0\\u4E3A\\u4ED6\\u4EEC\\u7684parentSpanId\\u4E3Anull\\u3002\\u5BF9\\u4E8E\\u6B65\\u9AA4\\u2460\\u6765\\u8BF4\\uFF0C\\u670D\\u52A1\\u56681\\u4E0A\\u7684sr\\u51CF\\u53BB\\u670D\\u52A1\\u56680\\u4E0A\\u7684cs\\u7684\\u65F6\\u95F4\\u5C31\\u662F\\u7EA6\\u7B49\\u4E8E\\u7F51\\u7EDC\\u8017\\u65F6\\uFF08\\u8FD9\\u91CC\\u5FFD\\u7565\\u4E0D\\u540C\\u670D\\u52A1\\u5668\\u65F6\\u949F\\u7684\\u5DEE\\u5F02\\uFF09\\uFF0C\\u540C\\u7406\\uFF0C\\u5BF9\\u4E8E\\u5176\\u4ED6\\u6B65\\u9AA4\\uFF0Csr-cs\\u548Ccr-ss\\u5F97\\u5230\\u7684\\u90FD\\u662F\\u7F51\\u7EDC\\u8017\\u65F6\\u3002\\u6211\\u4EEC\\u63A5\\u7740\\u770B\\u8BF7\\u6C42\\u6B65\\u9AA4\\u2461\\u548C\\u2463\\uFF0C\\u4ECE\\u8DDF\\u8E2A\\u6811\\u7684\\u5C42\\u6B21\\u6765\\u8BF4\\u4ED6\\u4EEC\\u5C5E\\u4E8E\\u2460\\u4E0B\\u7684\\u5B50\\u8C03\\u7528\\uFF0C\\u6240\\u4EE5\\u5B83\\u4EEC\\u7684parentSpanId\\u5C31\\u662F\\u2460\\u76841000\\u3002\\u6B65\\u9AA4\\u2461\\u548C\\u2463\\u90FD\\u4F1A\\u5206\\u522B\\u4EA7\\u751F\\u4E00\\u4E2AspanId\\uFF08\\u4E0A\\u9762\\u76841001\\u548C1002\\uFF09\\uFF0C\\u6240\\u4EE5\\u5982\\u4E0A\\u56FE\\uFF0C\\u770B\\u4F3C\\u4E00\\u6B21\\u7B80\\u5355\\u7684RPC\\u8FC7\\u7A0B\\uFF0C\\u5176\\u5B9E\\u5171\\u4EA7\\u751F\\u4E866\\u6761Span\\u65E5\\u5FD7\\uFF0C\\u5B83\\u4EEC\\u5C06\\u5728Zipkin\\u670D\\u52A1\\u7AEF\\u7EC4\\u88C5\\u62103\\u4E2ASpan\\u3002'),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('p',null,'\\xA0'),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('p',null,' ',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('img',{src:'http://dl2.iteye.com/upload/attachment/0122/3855/d0248c55-19b0-38f8-a958-b24626bf8476.png',alt:''})),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('p',null,'RPC\\u8C03\\u7528\\u65F6\\u53EA\\u9700\\u8981\\u4F20\\u9012traceId\\u548CchildSpanId\\uFF0C\\u800C\\u4E0D\\u662F\\u50CFZipkin\\u7684\\u8BBE\\u8BA1\\u90A3\\u6837\\uFF0C\\u9700\\u8981\\u4F20\\u9012traceId\\u3001spanId\\u8FD8\\u6709parentSpanId\\u3002'),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('p',null,'\\u53EF\\u4EE5\\u770B\\u5230\\u660E\\u663E\\u7684\\u53D8\\u5316\\uFF0C\\u4E0D\\u518D\\u6709parentSpanId\\uFF0C\\u800C\\u4F7F\\u7528\\u4E86childSpanId\\uFF0C\\u8FD9\\u6837RPC\\u4E4B\\u95F4\\u4F20\\u9012\\u7684\\u5C31\\u662FtraceId\\u548CchildSpanId\\uFF0C\\u8FD9\\u4E5F\\u76F4\\u63A5\\u89E3\\u51B3\\u4E86\\u56FE5\\u4E2D\\u6240\\u9047\\u5230\\u7684\\u95EE\\u9898\\u3002\\u867D\\u7136\\u56FE5\\u548C\\u56FE6\\u7684\\u8BBE\\u8BA1\\u8FDD\\u80CC\\u4E86\\u4E00\\u6B21RPC\\u8C03\\u7528\\u7531\\u4E00\\u4E2AspanId\\u7684\\u6570\\u636E\\u6765\\u8FDB\\u884C\\u7EF4\\u62A4\\u7684\\u8BBE\\u8BA1\\u7406\\u5FF5\\uFF0C\\u4F46\\u786E\\u5B9E\\u5728\\u8DDF\\u8E2A\\u6811\\u7684\\u754C\\u9762\\u5C55\\u793A\\u4E0A\\u66F4\\u5BB9\\u6613\\u8BA9\\u4EBA\\u63A5\\u53D7\\u548C\\u7406\\u89E3\\uFF08\\u6811\\u8282\\u70B9\\u548C\\u670D\\u52A1\\u5668\\u8282\\u70B9\\u5BF9\\u5E94\\uFF09\\uFF0C\\u800C\\u4E14\\u8FD8\\u51CF\\u5C11\\u4E86RCP\\u95F4\\u7684\\u6570\\u636E\\u4F20\\u9001\\uFF0C\\u4F55\\u4E50\\u800C\\u4E0D\\u4E3A\\uFF1F'),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('p',null,'\\u53C2\\u8003\\uFF1A',__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('a',{href:'http://manzhizhen.iteye.com/',target:'_blank'},'http://manzhizhen.iteye.com/')),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('p',null,'\\xA0'),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('h3',{id:'\\u600E\\u4E48\\u4F20\\u8F93traceId\\u548CchildSpanId\\u7684\\uFF1F'},__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('a',{href:'javascript:void(0)','class':'anchor'},'\\u600E\\u4E48\\u4F20\\u8F93traceId\\u548CchildSpanId\\u7684\\uFF1F')),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('p',null,'\\u731C\\u60F3\\uFF1A\\u56E0\\u4E3Arpc\\u6709\\u7684\\u8D70http\\u6709\\u7684tcp,\\u6240\\u4EE5\\u5207\\u5165\\u70B9\\u5E94\\u8BE5\\u5728tcp\\u4E0A\\u9762\\uFF0C\\u4F30\\u8BA1\\u5728tcp\\u7684\\u5305\\u4F53\\u91CC\\u9762\\u542B\\u6709\\u8FD9\\u7C7B\\u4FE1\\u606F\\uFF0Csr\\u83B7\\u53D6\\u8FD9\\u7C7B\\u4FE1\\u606F\\u540E\\uFF0C\\u5411zipkin\\u53D1\\u51FA\\u8BF7\\u6C42\\uFF0C\\u5E76\\u7ED1\\u5B9A\\u5230\\u5F53\\u524D\\u7EBF\\u7A0B\\u3002')),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_antd_es_col__[\"a\" /* default */],{span:1}),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_antd_es_col__[\"a\" /* default */],{span:4},__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5_antd_es_anchor__[\"a\" /* default */],{showInkInFixed:'true'},__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement(Link,{href:'#architecture',title:'architecture'}),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement(Link,{href:'#install',title:'install'}),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement(Link,{href:'#terminology\\u672F\\u8BED',title:'terminology\\u672F\\u8BED'}),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement(Link,{href:'#brave',title:'brave'}),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement(Link,{href:'#zipkin\\u5982\\u4F55\\u5B9E\\u73B0\\u94FE\\u8DEF\\u8FFD\\u8E2A\\u7684\\u5462\\uFF1F',title:'zipkin\\u5982\\u4F55\\u5B9E\\u73B0\\u94FE\\u8DEF\\u8FFD\\u8E2A\\u7684\\u5462\\uFF1F'},__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement(Link,{href:'#\\u600E\\u4E48\\u4F20\\u8F93traceId\\u548CchildSpanId\\u7684\\uFF1F',title:'\\u600E\\u4E48\\u4F20\\u8F93traceId\\u548CchildSpanId\\u7684\\uFF1F'}))))));}}]);return ASK1;}(__WEBPACK_IMPORTED_MODULE_6_react__[\"Component\"]);/* harmony default export */ __webpack_exports__[\"default\"] = (ASK1);\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/99.d58714df.chunk.js","import React, {Component} from 'react';\nimport {Anchor, Row, Col} from 'antd';\n\n\nconst {Link} = Anchor;\n\n\nclass ASK1 extends Component {\n\n    s = \"{\";\n    render() {\n\n        return (\n            <div>\n                <Row>\n                    <Col span={19}>\n\n                        <p>zipkin为分布式链路调用监控系统，聚合各业务系统调用延迟数据，达到链路调用监控跟踪。</p>\n                        <p>参考：<a href='http://blog.csdn.net/liaokailin/article/details/52077620' target='_blank' >http://blog.csdn.net/liaokailin/article/details/52077620</a></p>\n                        <h2 id=\"architecture\"><a href=\"javascript:void(0)\" class=\"anchor\">architecture</a></h2>\n                        <p><img src='https://raw.githubusercontent.com/liaokailin/pic-repo/master/slow-service.png' alt='' /></p>\n                        <p>如图，在复杂的调用链路中假设存在一条调用链路响应缓慢，如何定位其中延迟高的服务呢？</p>\n                        <ul>\n                            <li>日志： 通过分析调用链路上的每个服务日志得到结果</li>\n                            <li>zipkin：使用zipkin的web UI可以一眼看出延迟高的服务</li>\n                        </ul>\n                        <p><img src='http://zipkin.io/public/img/architecture-1.png' alt='' /></p>\n                        <p>如图所示，各业务系统在彼此调用时，将特定的跟踪消息传递至zipkin,zipkin在收集到跟踪信息后将其聚合处理、存储、展示等，用户可通过web UI方便\n                            获得网络延迟、调用链路、系统依赖等等。</p>\n                        <p>&nbsp;</p>\n                        <p>zipkin主要涉及四个组件 collector /storage/ search/ web UI</p>\n                        <ul>\n                            <li><code>Collector</code>接收各service传输的数据</li>\n                            <li><code>Cassandra</code>作为<code>Storage</code>的一种，也可以是mysql等，默认存储在内存中，配置<code>cassandra</code>可以参考<a href='https://github.com/openzipkin/zipkin-dependencies'>这里</a></li>\n                            <li><code>Query</code>负责查询<code>Storage</code>中存储的数据,提供简单的<code>JSON API</code>获取数据，主要提供给<code>web UI</code>使用</li>\n                            <li>Web 提供简单的web界面</li>\n                        </ul>\n                        <h2 id=\"install\"><a href=\"javascript:void(0)\" class=\"anchor\">install</a></h2>\n                        <p>执行如下命令下载jar包</p>\n                        <pre><code>wget -O zipkin.jar &#39;https://search.maven.org/remote_content?g=io.zipkin.java&amp;a=zipkin-server&amp;v=LATEST&amp;c=exec&#39;<br/>\n</code></pre>\n                        <p>其为一个spring boot 工程，直接运行jar</p>\n                        <pre><code>nohup java -jar zipkin.jar &amp; <br/>\n</code></pre>\n                        <p>访问 <a href='http://localhost:9411' target='_blank' >http://localhost:9411</a></p>\n                        <p><img src='https://raw.githubusercontent.com/liaokailin/pic-repo/master/zipkin-web-ui.png' alt='' /></p>\n                        <h2 id=\"terminology术语\"><a href=\"javascript:void(0)\" class=\"anchor\">terminology术语</a></h2>\n                        <p>使用zipkin涉及几个概念</p>\n                        <ul>\n                            <li><p><code>Span</code>:基本工作单元，一次链路调用(可以是RPC，DB等没有特定的限制)创建一个<code>span</code>，通过一个64位ID标识它，\n                                <code>span</code>通过还有其他的数据，例如描述信息，时间戳，key-value对的(Annotation)tag信息，<code>parent-id</code>等,其中<code>parent-id</code>\n                                可以表示<code>span</code>调用链路来源，通俗的理解<code>span</code>就是一次请求信息</p>\n                            </li>\n                            <li><p><code>Trace</code>:类似于树结构的<code>Span</code>集合，表示一条调用链路，存在唯一标识</p>\n                            </li>\n                            <li><p>Annotation: 注解,用来记录请求特定事件相关信息(例如时间)，通常包含四个注解信息</p>\n                            </li>\n                            <li><p>BinaryAnnotation:提供一些额外信息，一般已key-value对出现</p>\n                                <p>概念说完，来看下完整的调用链路 </p>\n                            </li>\n                        </ul>\n                        <p><img src='https://raw.githubusercontent.com/spring-cloud/spring-cloud-sleuth/master/docs/src/main/asciidoc/images/trace-id.png' alt='' /></p>\n                        <p>上图表示一请求链路，一条链路通过Trace Id唯一标识，Span标识发起的请求信息，各span通过parent id 关联起来，如图 </p>\n                        <p><img src='https://raw.githubusercontent.com/spring-cloud/spring-cloud-sleuth/master/docs/src/main/asciidoc/images/parents.png' alt='' /></p>\n                        <p>整个链路的依赖关系如下: </p>\n                        <p><img src='https://raw.githubusercontent.com/spring-cloud/spring-cloud-sleuth/master/docs/src/main/asciidoc/images/dependencies.png' alt='' /></p>\n                        <p>完成链路调用的记录后，如何来计算调用的延迟呢，这就需要利用Annotation信息</p>\n                        <p><img src='https://raw.githubusercontent.com/liaokailin/pic-repo/master/zipkin-annotation.png' alt='' /></p>\n                        <pre><code>cs - Client Start,表示客户端发起请求<br/>\nsr&nbsp;-&nbsp;Server&nbsp;Receive,表示服务端收到请求<br/>\nss&nbsp;-&nbsp;Server&nbsp;Send,表示服务端完成处理，并将结果发送给客户端<br/>\ncr&nbsp;-&nbsp;Client&nbsp;Received,表示客户端获取到服务端返回信息<br/>\nsr-cs&nbsp;得到请求发出延迟<br/>\nss-sr&nbsp;得到服务端处理延迟<br/>\ncr-cs&nbsp;得到真个链路完成延迟<br/>\n</code></pre>\n                        <p>&nbsp;</p>\n                        <h2 id=\"brave\"><a href=\"javascript:void(0)\" class=\"anchor\">brave</a></h2>\n                        <p>作为各调用链路，只需要负责将指定格式的数据发送给zipkin即可，利用brave可快捷完成操作。</p>\n                        <p>首先导入jar包pom.xml</p>\n                        <pre><code>parent&gt;<br/>\n                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;<br/>\n                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;<br/>\n                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;version&gt;1.3.6.RELEASE&lt;/version&gt;<br/>\n                            &nbsp;&nbsp;&nbsp;&nbsp;&lt;/parent&gt;<br/>\n                            &nbsp;&nbsp;&nbsp;&nbsp;&lt;!--&nbsp;https://mvnrepository.com/artifact/io.zipkin.brave/brave-core&nbsp;--&gt;<br/>\n                            &nbsp;&nbsp;&nbsp;&nbsp;&lt;dependencies&gt;<br/>\n                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dependency&gt;<br/>\n                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;<br/>\n                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;<br/>\n                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/dependency&gt;<br/>\n                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dependency&gt;<br/>\n                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;<br/>\n                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;<br/>\n                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/dependency&gt;<br/>\n                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dependency&gt;<br/>\n                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;<br/>\n                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;<br/>\n                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/dependency&gt;<br/>\n                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dependency&gt;<br/>\n                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;groupId&gt;io.zipkin.brave&lt;/groupId&gt;<br/>\n                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;artifactId&gt;brave-core&lt;/artifactId&gt;<br/>\n                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;version&gt;3.9.0&lt;/version&gt;<br/>\n                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/dependency&gt;<br/>\n                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;!--&nbsp;https://mvnrepository.com/artifact/io.zipkin.brave/brave-http&nbsp;--&gt;<br/>\n                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dependency&gt;<br/>\n                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;groupId&gt;io.zipkin.brave&lt;/groupId&gt;<br/>\n                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;artifactId&gt;brave-http&lt;/artifactId&gt;<br/>\n                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;version&gt;3.9.0&lt;/version&gt;<br/>\n                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/dependency&gt;<br/>\n                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dependency&gt;<br/>\n                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;groupId&gt;io.zipkin.brave&lt;/groupId&gt;<br/>\n                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;artifactId&gt;brave-spancollector-http&lt;/artifactId&gt;<br/>\n                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;version&gt;3.9.0&lt;/version&gt;<br/>\n                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/dependency&gt;<br/>\n                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dependency&gt;<br/>\n                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;groupId&gt;io.zipkin.brave&lt;/groupId&gt;<br/>\n                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;artifactId&gt;brave-web-servlet-filter&lt;/artifactId&gt;<br/>\n                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;version&gt;3.9.0&lt;/version&gt;<br/>\n                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/dependency&gt;<br/>\n                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dependency&gt;<br/>\n                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;groupId&gt;io.zipkin.brave&lt;/groupId&gt;<br/>\n                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;artifactId&gt;brave-okhttp&lt;/artifactId&gt;<br/>\n                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;version&gt;3.9.0&lt;/version&gt;<br/>\n                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/dependency&gt;<br/>\n                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;!--&nbsp;https://mvnrepository.com/artifact/org.slf4j/slf4j-api&nbsp;--&gt;<br/>\n                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dependency&gt;<br/>\n                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;groupId&gt;org.slf4j&lt;/groupId&gt;<br/>\n                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;<br/>\n                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;version&gt;1.7.13&lt;/version&gt;<br/>\n                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/dependency&gt;<br/>\n                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dependency&gt;<br/>\n                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;<br/>\n                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;artifactId&gt;httpclient&lt;/artifactId&gt;<br/>\n                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;version&gt;4.5.1&lt;/version&gt;<br/>\n                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/dependency&gt;<br/>\n                            &nbsp;&nbsp;&nbsp;&nbsp;&lt;/dependencies&gt;<br/>\n</code></pre>\n                        <p>&nbsp;</p>\n                        <p>建立controller对外提供服务</p>\n                        <p>HomeController.java</p>\n                        <pre><code>@RestController<br/>\n@RequestMapping(&quot;/&quot;)<br/>\npublic&nbsp;class&nbsp;HomeController&nbsp;{this.s}<br/>\n                            &nbsp;&nbsp;&nbsp;&nbsp;@Autowired<br/>\n                            &nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;OkHttpClient&nbsp;client;<br/>\n                            &nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;&nbsp;Random&nbsp;random&nbsp;=&nbsp;new&nbsp;Random();<br/>\n                            &nbsp;&nbsp;&nbsp;&nbsp;@RequestMapping(&quot;start&quot;)<br/>\n                            &nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;String&nbsp;start()&nbsp;throws&nbsp;InterruptedException,&nbsp;IOException&nbsp;{this.s}<br/>\n                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;sleep=&nbsp;random.nextInt(100);<br/>\n                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TimeUnit.MILLISECONDS.sleep(sleep);<br/>\n                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Request&nbsp;request&nbsp;=&nbsp;new&nbsp;Request.Builder().url(&quot;http://localhost:9090/foo&quot;).get().build();<br/>\n                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Response&nbsp;response&nbsp;=&nbsp;client.newCall(request).execute();<br/>\n                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&quot;&nbsp;[service1&nbsp;sleep&nbsp;&quot;&nbsp;+&nbsp;sleep+&quot;&nbsp;ms]&quot;&nbsp;+&nbsp;response.body().toString();<br/>\n                            &nbsp;&nbsp;&nbsp;&nbsp;}<br/>\n</code></pre>\n                        <p>HomeController中利用OkHttpClient调用发起http请求。在每次发起请求时则需要通过brave记录Span信息，并异步传递给zipkin\n                            作为被调用方(服务端)也同样需要完成以上操作.</p>\n                        <p>ZipkinConfig.java</p>\n                        <pre><code>@Configuration<br/>\npublic&nbsp;class&nbsp;ZipkinConfig&nbsp;{this.s}<br/>\n                            &nbsp;&nbsp;&nbsp;&nbsp;@Autowired<br/>\n                            &nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;ZipkinProperties&nbsp;properties;<br/>\n                            &nbsp;&nbsp;&nbsp;&nbsp;@Bean<br/>\n                            &nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;SpanCollector&nbsp;spanCollector()&nbsp;{this.s}<br/>\n                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;HttpSpanCollector.Config&nbsp;config&nbsp;=&nbsp;HttpSpanCollector.Config.builder().connectTimeout(properties.getConnectTimeout()).readTimeout(properties.getReadTimeout())<br/>\n                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.compressionEnabled(properties.isCompressionEnabled()).flushInterval(properties.getFlushInterval()).build();<br/>\n                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;HttpSpanCollector.create(properties.getUrl(),&nbsp;config,&nbsp;new&nbsp;EmptySpanCollectorMetricsHandler());<br/>\n                            &nbsp;&nbsp;&nbsp;&nbsp;}<br/>\n                            &nbsp;&nbsp;&nbsp;&nbsp;@Bean<br/>\n                            &nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;Brave&nbsp;brave(SpanCollector&nbsp;spanCollector){this.s}<br/>\n                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Brave.Builder&nbsp;builder&nbsp;=&nbsp;new&nbsp;Brave.Builder(properties.getServiceName());&nbsp;&nbsp;//指定state<br/>\n                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;builder.spanCollector(spanCollector);<br/>\n                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;builder.traceSampler(Sampler.ALWAYS_SAMPLE);<br/>\n                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Brave&nbsp;brave&nbsp;=&nbsp;builder.build();<br/>\n                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;brave;<br/>\n                            &nbsp;&nbsp;&nbsp;&nbsp;}<br/>\n                            &nbsp;&nbsp;&nbsp;&nbsp;@Bean<br/>\n                            &nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;BraveServletFilter&nbsp;braveServletFilter(Brave&nbsp;brave){this.s}<br/>\n                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BraveServletFilter&nbsp;filter&nbsp;=&nbsp;new&nbsp;BraveServletFilter(brave.serverRequestInterceptor(),brave.serverResponseInterceptor(),new&nbsp;DefaultSpanNameProvider());<br/>\n                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;filter;<br/>\n                            &nbsp;&nbsp;&nbsp;&nbsp;}<br/>\n                            &nbsp;&nbsp;&nbsp;&nbsp;@Bean<br/>\n                            &nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;OkHttpClient&nbsp;okHttpClient(Brave&nbsp;brave){this.s}<br/>\n                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OkHttpClient&nbsp;client&nbsp;=&nbsp;new&nbsp;OkHttpClient.Builder()<br/>\n                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.addInterceptor(new&nbsp;BraveOkHttpRequestResponseInterceptor(brave.clientRequestInterceptor(),&nbsp;brave.clientResponseInterceptor(),&nbsp;new&nbsp;DefaultSpanNameProvider()))<br/>\n                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.build();<br/>\n                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;client;<br/>\n                            &nbsp;&nbsp;&nbsp;&nbsp;}<br/>\n}<br/>\n</code></pre>\n                        <ul>\n                            <li>SpanCollector 配置收集器</li>\n                            <li><code>Brave</code> 各工具类的封装,其中<code>builder.traceSampler(Sampler.ALWAYS_SAMPLE)</code>设置采样比率，0-1之间的百分比</li>\n                            <li>BraveServletFilter 作为拦截器，需要serverRequestInterceptor,serverResponseInterceptor 分别完成sr和ss操作</li>\n                            <li><code>OkHttpClient</code> 添加拦截器，需要<code>clientRequestInterceptor</code>,<code>clientResponseInterceptor</code> 分别完成<code>cs</code>和<code>cr</code>操作,该功能由\n                                brave中的<code>brave-okhttp</code>模块提供，同样的道理如果需要记录数据库的延迟只要在数据库操作前后完成<code>cs</code>和<code>cr</code>即可，当然brave提供其封装。</li>\n                        </ul>\n                        <p>以上还缺少一个配置信息ZipkinProperties.java</p>\n                        <p>则可以在配置文件application.properties中配置相关信息</p>\n                        <pre><code>com.zipkin.serviceName=service1<br/>\ncom.zipkin.url=http://110.173.14.57:9411<br/>\ncom.zipkin.connectTimeout=6000<br/>\ncom.zipkin.readTimeout=6000<br/>\ncom.zipkin.flushInterval=1<br/>\ncom.zipkin.compressionEnabled=true<br/>\nserver.port=8080<br/>\n</code></pre>\n                        <h2 id=\"zipkin如何实现链路追踪的呢？\"><a href=\"javascript:void(0)\" class=\"anchor\">zipkin如何实现链路追踪的呢？</a></h2>\n                        <p>2010年谷歌发表了其内部使用的分布式跟踪系统Dapper的论文（<a href='http://static.googleusercontent.com/media/research.google.com/zh-CN//archive/papers/dapper-2010-1.pdf' target='_blank' >http://static.googleusercontent.com/media/research.google.com/zh-CN//archive/papers/dapper-2010-1.pdf</a>，译文地址：<a href='http://bigbully.github.io/Dapper-translation/' target='_blank' >http://bigbully.github.io/Dapper-translation/</a>），讲述了Dapper在谷歌内部两年的演变和设计、运维经验，Twitter也根据该论文开发了自己的分布式跟踪系统Zipkin，并将其开源，但不知为啥没有贡献给Apache。其实还有很多的分布式跟踪系统，比如Apache的HTrace，阿里的鹰眼Tracing、京东的Hydra、新浪的Watchman等。</p>\n                        <p>      大型互联网公司为什么需要分布式跟踪系统？为了支撑日益增长的庞大业务量，我们会把服务进行整合、拆分，使我们的服务不仅能通过集群部署抵挡流量的冲击，又能根据业务在其上进行灵活的扩展。一次请求少则经过三四次服务调用完成，多则跨越几十个甚至是上百个服务节点。如何动态展示服务的链路？如何分析服务链路的瓶颈并对其进行调优？如何快速进行服务链路的故障发现？这就是服务跟踪系统存在的目的和意义。</p>\n                        <p>     即使作为分布式系统的开发者，也很难清楚的说出某个服务的调用链路，况且服务调用链路还是动态变化的，这时候只能咬咬牙翻代码了。接下来，我们看看Zipkin是如何做到这一点的。在这之前，我们先来简单讨论一下分布式跟踪系统的设计要点，<strong>第一点：对应用透明、低侵入</strong>。为什么说这一点最重要？因为分布式系统面对的客户是开发者，如果他们的系统需要花费较大的改造才能接入你的分布式跟踪系统，除非你是他的老板，否则他会直接和你说：No！！没人用是最惨的结果。那么怎么才能做到对业务系统最低的侵入性呢？Dapper给出的建议是在公共库和中间件上做文章。没错，分布式系统之间的通讯靠的都是RPC、MQ等中间件系统，即使是内部使用的线程池或者数据库连接池，大多也是使用经过公司包装公共库，这就给服务跟踪带来了机会，我只要对中间件和公共库进行改造，就几乎可以做到全方位跟踪，当然，这也是有难度的；<strong>第二点：低开销、高稳定</strong>。大多数应用不愿意接入监控系统的原因是怕影响线上服务器的性能，特别是那些对性能特别敏感的应用，所以，分布式跟踪系统一定要轻量级，不能有太复杂的逻辑和外部依赖，甚至需要做到根据服务的流量来动态调整采集密度。<strong>第三点：可扩展</strong>。随着接入的分布式系统的增多，压力也将不断增长，分布式跟踪系统是否能动态的扩展来支撑不断接入的业务系统，这也是设计时需要考虑的。可以看出，这三点并没有什么特别，对于服务降级系统、分布式跟踪系统和业务监控系统等，这三点都是必须的。</p>\n                        <p>&nbsp;</p>\n                        <p>Zipkin的设计，一般的分布式跟踪系统数据流主要分为三个步骤：采集、发送和落盘分析，我们来看Zipkin官网给出的设计图：</p>\n                        <p><img src='http://img.blog.csdn.net/20161014000053465?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center' alt='' /></p>\n                        <p>其中的S表示的是发送跟踪数据的客户端SDK还是Scribe的客户端(因为Twitter内部采用的就是Scribe来采集跟踪数据)？效果都一样，总而言之我们看到的就是各个应用、中间件甚至是数据库将跟踪数据发送到Zipkin服务器。</p>\n                        <p>总体设计没什么特别，我们看下内部的数据模型是怎么设计的。一般的调用链都可以展现成一颗树，比如下面的简单调用：</p>\n                        <p><img src='http://img.blog.csdn.net/20161014000321045?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center' alt='' /></p>\n                        <p>\t上图描述的服务调用场景应该是很常见也很简单的调用场景了，一个请求通过Gateway服务路由到下游的Service1，然后Service1先调用服务Service2，拿到结果后再调用服务Service3，最后组合Service2和Service3服务的结果，通过Gateway返回给用户。我们用①②③④⑤⑥表示了RPC的顺序，那么，什么是span？span直译过来是&quot;跨度&quot;，在谷歌的Dapper论文中表示跟踪树中树节点引用的数据结构体，span是跟踪系统中的基本数据单元，Dapper的论文中，并没有具体介绍span中的全部细节，但在Zipkin中，每个span中一般包含如下字段：</p>\n                        <p><strong>traceId：全局跟踪ID</strong>，用它来标记一次完整服务调用，所以和一次服务调用相关的span中的traceId都是相同的，Zipkin将具有相同traceId的span组装成跟踪树来直观的将调用链路图展现在我们面前。这里直接给出Zipkin官网中的一张Zipkin界面的图：</p>\n                        <p><img src='http://img.blog.csdn.net/20161014000342161?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center' alt='' /></p>\n                        <p>id：span的id，理论上来说，span的id只要做到一个traceId下唯一就可以，比如说阿里的鹰眼系统巧妙用span的id来体现调用层次关系（例如0，0.1，0.2，0.1.1等），但Zipkin中的span的id则没有什么实际含义。</p>\n                        <p>parentId：父span的id，调用有层级关系，所以span作为调用节点的存储结构，也有层级关系。</p>\n                        <p>name：span的名称，主要用于在界面上展示，一般是接口方法名，name的作用是让人知道它是哪里采集的span，不然某个span耗时高我都不知道是哪个服务节点耗时高。</p>\n                        <p>timestamp：span创建时的时间戳，用来记录采集的时刻。</p>\n                        <p>duration：持续时间，即span的创建到span完成最终的采集所经历的时间，除去span自己逻辑处理的时间，该时间段可以理解成对于该跟踪埋点来说服务调用的总耗时。</p>\n                        <p>annotations：基本标注列表，一个标注可以理解成span生命周期中重要时刻的数据快照，比如一个标注中一般包含发生时刻（timestamp）、事件类型（value）、端点（endpoint）等信息，这里给出一个标注的json结构：</p>\n                        <pre><code>{this.s}<br/>\n                            &nbsp;&nbsp;&quot;timestamp&quot;:1476197069680000,<br/>\n                            &nbsp;&nbsp;&quot;value&quot;:&nbsp;&quot;cs&quot;,<br/>\n                            &nbsp;&nbsp;&quot;endpoint&quot;:&nbsp;{this.s}<br/>\n                            &nbsp;&nbsp;\t&quot;serviceName&quot;:&nbsp;&quot;service1&quot;,<br/>\n                            &nbsp;&nbsp;\t&quot;ipv4&quot;:&nbsp;&quot;xxx.xxx.xxx.111&quot;<br/>\n                            &nbsp;&nbsp;}<br/>\n}<br/>\n</code></pre>\n                        <p>那么，有哪些事件类型呢？答案是四种：cs（客户端/消费者发起请求）、cr（客户端/消费者接收到应答）、sr（服务端/生产者接收到请求）和ss（服务端/生产者发送应答）。可以看出，这四种事件类型的统计都应该是Zipkin提供客户端来做的，因为这些事件和业务无关，这也是为什么跟踪数据的采集适合放到中间件或者公共库来做的原因。</p>\n                        <p>binaryAnnotations：业务标注列表，如果某些跟踪埋点需要带上部分业务数据（比如url地址、返回码和异常信息等），可以将需要的数据以键值对的形式放入到这个字段中。</p>\n                        <p>&nbsp;</p>\n                        <p>说到这里，大家对span的印象可能还是有点模糊不清，于是我们继续拿图2的服务调用来举例，如果我们将图2的应用接入Zipkin，将会是下图的效果：</p>\n                        <p><img src='http://img.blog.csdn.net/20161014000409686?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center' alt='' /></p>\n                        <p>      这里我们看到，Gateway、Service1、Service2和Service3都在往Zipkin发送跟踪数据，你一定会感觉奇怪，Gateway作为服务调用的起点，难道不是由Service1、Service2和Service3把各自的跟踪数据传回Gateway然后再由Gateway统计并整理好一并发往Zipkin服务端吗？认真想想就知道这种设计的弊端，如果一次完整的服务请求调用链路特长，比如设计上百个服务节点的通讯，那么将各服务节点的span信息传回给顶级span和将跟踪数据汇总并发送到Zipkin将带来巨大的网络开销，这是不值当的，还不如将跟踪数据组装的任务直接交给Zipkin来做，这样Zipkin的客户端SDK不需要有过于复杂的逻辑，也节省了大量的网络带宽资源，可扩展性大大提高。</p>\n                        <p>       需要注意的是，并不是每个span上都会完整的发生cs、cr、sr和ss这四种事件，比如图4中Gateway上的span只会有cs和cr，因为Gateway没有上游应用，Service2和Service3上的span有sr和ss，但不会有cs和cr，因为对于此次服务调用来说，Service2和Service3并不依赖下游任何应用服务。但对于Service1来说就复杂得多，它将产生三个Span，接收和应答Gateway是一个span，调用和接收Service2是一个span，调用和接收Service3是第三个span，注意，一个span只能用于记录两个应用之间的服务调用，所以不能将这三个span信息合成一个。由cs、cr、sr和ss事件的时间，可以得出很多时间数据，例如：</p>\n                        <p>请求总耗时 =Gateway.cr - Gateway.cs</p>\n                        <p>①的网络耗时 = Service1.sr - Gateway.cs</p>\n                        <p>Service1的调用Service2的耗时 = Service1.cr - Service1.cs （图4中Service1节点上的第二个span中的cr和cs）</p>\n                        <p>Service1的调用Service3的耗时 = Service1.cr - Service1.cs （图4中Service1节点上的第三个span中的cr和cs）</p>\n                        <p>④的网络耗时 = Service3.sr - Service1.cs （图4中Service1节点上的第三个span中的cs）</p>\n                        <p>可以这样说，如果采集到这些span，几乎所有阶段的耗时都可以计算出来。</p>\n                        <p><img src='http://dl2.iteye.com/upload/attachment/0122/3847/53fee587-e86c-305f-834d-1ad3b8d5094f.png' alt='' /></p>\n                        <p>上图的①和⑥是一次完整的RPC调用，它发生在服务器0和服务器1之间，显而易见的是，用于描述该RPC调用的Span的spanId是1000，所以，这是同一个Span的，只是它的数据来源于两台不同的服务器（应用）：服务器0和服务器1。<strong>往低层说，该Span由两条跟踪日志表示，一条在服务器0上被采集，另一条在服务器1上被采集，他们的Span的traceId、spanId和parentSpanId都是一样的！</strong>而且该Span将成为跟踪树中的顶节点，因为他们的parentSpanId为null。对于步骤①来说，服务器1上的sr减去服务器0上的cs的时间就是约等于网络耗时（这里忽略不同服务器时钟的差异），同理，对于其他步骤，sr-cs和cr-ss得到的都是网络耗时。我们接着看请求步骤②和④，从跟踪树的层次来说他们属于①下的子调用，所以它们的parentSpanId就是①的1000。步骤②和④都会分别产生一个spanId（上面的1001和1002），所以如上图，看似一次简单的RPC过程，其实共产生了6条Span日志，它们将在Zipkin服务端组装成3个Span。</p>\n                        <p>&nbsp;</p>\n                        <p> <img src='http://dl2.iteye.com/upload/attachment/0122/3855/d0248c55-19b0-38f8-a958-b24626bf8476.png' alt='' /></p>\n                        <p>RPC调用时只需要传递traceId和childSpanId，而不是像Zipkin的设计那样，需要传递traceId、spanId还有parentSpanId。</p>\n                        <p>可以看到明显的变化，不再有parentSpanId，而使用了childSpanId，这样RPC之间传递的就是traceId和childSpanId，这也直接解决了图5中所遇到的问题。虽然图5和图6的设计违背了一次RPC调用由一个spanId的数据来进行维护的设计理念，但确实在跟踪树的界面展示上更容易让人接受和理解（树节点和服务器节点对应），而且还减少了RCP间的数据传送，何乐而不为？</p>\n                        <p>参考：<a href='http://manzhizhen.iteye.com/' target='_blank' >http://manzhizhen.iteye.com/</a></p>\n                        <p>&nbsp;</p>\n                        <h3 id=\"怎么传输traceId和childSpanId的？\"><a href=\"javascript:void(0)\" class=\"anchor\">怎么传输traceId和childSpanId的？</a></h3>\n                        <p>猜想：因为rpc有的走http有的tcp,所以切入点应该在tcp上面，估计在tcp的包体里面含有这类信息，sr获取这类信息后，向zipkin发出请求，并绑定到当前线程。</p>\n\n                    </Col>\n                    <Col span={1}>\n                    </Col>\n                    <Col span={4}>\n                        <Anchor showInkInFixed=\"true\">\n                              <Link href=\"#architecture\" title=\"architecture\"/>\n                                 <Link href=\"#install\" title=\"install\"/>\n                                 <Link href=\"#terminology术语\" title=\"terminology术语\"/>\n                               <Link href=\"#brave\" title=\"brave\"/>\n                                <Link href=\"#zipkin如何实现链路追踪的呢？\" title=\"zipkin如何实现链路追踪的呢？\">\n                              <Link href=\"#怎么传输traceId和childSpanId的？\" title=\"怎么传输traceId和childSpanId的？\"/>\n                                </Link>\n                        </Anchor>\n                    </Col>\n                </Row>\n\n\n            </div>\n\n        );\n    }\n}\n\nexport default ASK1;\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/sc/zipkin/Zipkin1.js"],"sourceRoot":""}