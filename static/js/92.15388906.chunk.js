webpackJsonp([92],{1318:function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function r(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var c=(a(230),a(231)),E=(a(139),a(140)),o=(a(190),a(191)),u=a(0),i=a.n(u),p=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),m=o.a.Link,T=function(e){function t(){var e,a,r,c;n(this,t);for(var E=arguments.length,o=Array(E),u=0;u<E;u++)o[u]=arguments[u];return a=r=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.s="{",c=a,l(r,c)}return r(t,e),p(t,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(c.a,null,i.a.createElement(E.a,{span:19},i.a.createElement("h3",{id:"11\u79cd\u72b6\u6001"},i.a.createElement("a",{href:"javascript:void(0)",class:"anchor"},"11\u79cd\u72b6\u6001")),i.a.createElement("p",null,"\u5ba2\u6237\u7aef\u72ec\u6709\u7684\uff1a\uff081\uff09SYN_SENT \uff082\uff09FIN_WAIT1 \uff083\uff09FIN_WAIT2 \uff084\uff09CLOSING \uff085\uff09TIME_WAIT \u3002"),i.a.createElement("p",null,"\u670d\u52a1\u5668\u72ec\u6709\u7684\uff1a\uff081\uff09LISTEN \uff082\uff09SYN_RCVD \uff083\uff09CLOSE_WAIT \uff084\uff09LAST_ACK \u3002"),i.a.createElement("p",null,"\u5171\u6709\u7684\uff1a\uff081\uff09CLOSED \uff082\uff09ESTABLISHED \u3002"),i.a.createElement("p",null,"\xa0"),i.a.createElement("h3",{id:"TCP\u72b6\u6001\u8fc1\u79fb"},i.a.createElement("a",{href:"javascript:void(0)",class:"anchor"},"TCP\u72b6\u6001\u8fc1\u79fb")),i.a.createElement("p",null,"\u5927\u5bb6\u5bf9netstat -a\u547d\u4ee4\u5f88\u719f\u6089\uff0c\u4f46\u662f\uff0c\u4f60\u6709\u6ca1\u6709\u6ce8\u610f\u5230STATE\u4e00\u680f\u5462\uff0c\u57fa\u672c\u4e0a\u663e\u793a\u7740established,time_wait,close_wait\u7b49\uff0c\u8fd9\u4e9b\u5230\u5e95\u662f \u4ec0\u4e48\u610f\u601d\u5462\uff0c\u5728\u8fd9\u7bc7\u6587\u7ae0\uff0c\u6211\u5c06\u4f1a\u8be6\u7ec6\u7684\u9610\u8ff0\u3002"),i.a.createElement("p",null,"\u5927\u5bb6\u5f88\u660e\u767dTCP\u521d\u59cb\u5316\u8fde\u63a5\u4e09\u6b21\u63e1\u624b\u5427\uff1a\u53d1SYN\u5305\uff0c\u7136\u540e\u8fd4\u56deSYN/ACK\u5305\uff0c\u518d\u53d1ACK\u5305\uff0c\u8fde\u63a5\u6b63\u5f0f\u5efa\u7acb\u3002\u4f46\u662f\u8fd9\u91cc\u6709\u70b9\u51fa\u5165\uff0c\u5f53\u8bf7\u6c42\u8005\u6536\u5230SYS /ACK\u5305\u540e\uff0c\u5c31\u5f00\u59cb\u5efa\u7acb\u8fde\u63a5\u4e86\uff0c\u800c\u88ab\u8bf7\u6c42\u8005\u7b2c\u4e09\u6b21\u63e1\u624b\u7ed3\u675f\u540e\u624d\u5efa\u7acb\u8fde\u63a5\u3002\u5173\u95ed\u8fde\u63a5\u8981\u56db\u6b21\u63e1\u624b\uff1a\u53d1FIN\u5305\uff0cACK \u5305\uff0cFIN\u5305\uff0cACK\u5305\uff0c\u56db\u6b21\u63e1\u624b\uff01\uff01\u4e3a\u4ec0\u4e48\u5462\uff0c\u56e0\u4e3aTCP\u8fde\u63a5\u662f\u5168\u53cc\u5de5\uff0c\u6211\u5173\u4e86\u4f60\u7684\u8fde\u63a5\uff0c\u5e76\u4e0d\u7b49\u4e8e\u4f60\u5173\u4e86\u6211\u7684\u8fde\u63a5\u3002"),i.a.createElement("p",null,"\u5ba2\u6237\u7aefTCP\u72b6\u6001\u8fc1\u79fb\uff1a"),i.a.createElement("pre",null,i.a.createElement("code",null,"CLOSED->SYN_SENT->ESTABLISHED->FIN_WAIT_1->FIN_WAIT_2->TIME_WAIT->CLOSED",i.a.createElement("br",null))),i.a.createElement("p",null,i.a.createElement("img",{src:"http://blog.chinaunix.net/attachment/201304/8/22312037_1365405910EROI.png",alt:""})),i.a.createElement("p",null,"\u670d\u52a1\u5668TCP\u72b6\u6001\u8fc1\u79fb\uff1a"),i.a.createElement("pre",null,i.a.createElement("code",null,"LISTEN->SYN_RCVD ->ESTABLISHED->CLOSE_WAIT->LAST_ACK->CLOSED",i.a.createElement("br",null))),i.a.createElement("p",null,i.a.createElement("img",{src:"http://blog.chinaunix.net/attachment/201304/9/22312037_1365503104wDR0.png",alt:""})),i.a.createElement("p",null,"\xa0"),i.a.createElement("p",null,"\u5f53\u5ba2\u6237\u7aef\u53d1\u4e00\u4e2aSYN\u5305\u540e\uff0c\u5ba2\u6237\u7aef\u5c31\u5904\u4e8eSYN_SENT\u72b6\u6001\uff0c\u670d\u52a1\u5668\u5c31\u5904\u4e8eSYN_RCVD (SYS\u6536\u5230) \u72b6\u6001,\u7136\u540e\u4e92\u76f8\u786e\u8ba4\u8fdb\u5165\u8fde\u63a5\u72b6\u6001ESTABLISHED\u3002"),i.a.createElement("p",null,"\u5f53\u5ba2\u6237\u7aef\u8bf7\u6c42\u5173\u95ed\u8fde\u63a5\u65f6\uff0c\u5ba2\u6237\u7aef\u53d1\u9001\u4e00\u4e2aFIN\u5305\u540e\uff0c\u5ba2\u6237\u7aef\u5c31\u8fdb\u5165FIN_WAIT_1\u72b6\u6001,\u7b49\u5f85\u5bf9\u65b9\u7684\u786e\u8ba4\u5305\uff1b"),i.a.createElement("p",null,"\u670d\u52a1\u5668\u53d1\u9001\u4e00\u4e2aACK\u5305\u7ed9\u5ba2\u6237\uff0c\u5ba2\u6237\u7aef\u6536\u5230ACK\u5305\u540e\u7ed3\u675fFIN_WAIT_1\u72b6\u6001\uff0c\u8fdb\u5165FIN_WAIT_2\u72b6\u6001\uff1b\u7b49\u5f85\u670d\u52a1\u5668\u53d1\u8fc7\u6765\u7684\u5173\u95ed\u8bf7\u6c42,"),i.a.createElement("p",null,"\u670d\u52a1\u5668\u53d1\u4e00\u4e2aFIN\u5305\u540e,\u8fdb\u5165CLOSE_WAIT\u72b6\u6001\uff0c\u5f53\u5ba2\u6237\u7aef\u6536\u5230\u670d\u52a1\u5668\u7684FIN\u5305,FIN_WAIT_2\u72b6\u6001\u5c31\u7ed3\u675f\uff0c\u7136\u540e\u7ed9\u670d\u52a1\u5668\u7aef\u7684FIN\u5305\u7ed9\u4ee5\u4e00\u4e2a\u786e\u8ba4\u5305\uff0c\u5ba2\u6237\u7aef\u8fd9\u65f6\u8fdb\u5165TIME_WAIT,"),i.a.createElement("p",null,"\u5f53\u670d\u52a1\u5668\u6536\u5230\u786e\u8ba4\u5305\u540e,CLOSE_WAIT\u72b6\u6001\u7ed3\u675f\u4e86\u3002"),i.a.createElement("p",null,i.a.createElement("strong",null,"\u8fd9\u65f6\u5019\u670d\u52a1\u5668\u7aef\u771f\u6b63\u7684\u5173\u95ed\u4e86\u8fde\u63a5.\u4f46\u662f\u5ba2\u6237\u7aef\u8fd8\u5728TIME_WAIT\u72b6\u6001\u4e0b")),i.a.createElement("h3",{id:"2MSL\u662f\u4ec0\u4e48\uff1f"},i.a.createElement("a",{href:"javascript:void(0)",class:"anchor"},"2MSL\u662f\u4ec0\u4e48\uff1f")),i.a.createElement("p",null,"\u4ec0\u4e48\u65f6\u5019\u7ed3\u675f\u5462.\u6211\u5728\u8fd9\u91cc\u518d\u8bb2\u5230\u4e00\u4e2a\u65b0\u540d\u8bcd:2MSL\u7b49\u5f85\u72b6\u6001,\u5176\u5b9eTIME_WAIT\u5c31\u662f2MSL\u7b49\u5f85\u72b6\u6001,"),i.a.createElement("p",null,"MSL\u662fMaximum Segment Lifetime\u82f1\u6587\u7684\u7f29\u5199\uff0c\u4e2d\u6587\u53ef\u4ee5\u8bd1\u4e3a\u201c\u62a5\u6587\u6700\u5927\u751f\u5b58\u65f6\u95f4\u201d\uff0c\u4ed6\u662f\u4efb\u4f55\u62a5\u6587\u5728\u7f51\u7edc\u4e0a\u5b58\u5728\u7684\u6700\u957f\u65f6\u95f4\uff0c\u8d85\u8fc7\u8fd9\u4e2a\u65f6\u95f4\u62a5\u6587\u5c06\u88ab\u4e22\u5f03\u3002\u56e0\u4e3atcp\u62a5\u6587\uff08segment\uff09\u662fip\u6570\u636e\u62a5\uff08datagram\uff09\u7684\u6570\u636e\u90e8\u5206\uff0c\u800cip\u5934\u4e2d\u6709\u4e00\u4e2aTTL\u57df\uff0cTTL\u662ftime to live\u7684\u7f29\u5199\uff0c\u4e2d\u6587\u53ef\u4ee5\u8bd1\u4e3a\u201c\u751f\u5b58\u65f6\u95f4\u201d\uff0c\u8fd9\u4e2a\u751f\u5b58\u65f6\u95f4\u662f\u7531\u6e90\u4e3b\u673a\u8bbe\u7f6e\u521d\u59cb\u503c\u4f46\u4e0d\u662f\u5b58\u7684\u5177\u4f53\u65f6\u95f4\uff0c\u800c\u662f\u5b58\u50a8\u4e86\u4e00\u4e2aip\u6570\u636e\u62a5\u53ef\u4ee5\u7ecf\u8fc7\u7684\u6700\u5927\u8def\u7531\u6570\uff0c\u6bcf\u7ecf\u8fc7\u4e00\u4e2a\u5904\u7406\u4ed6\u7684\u8def\u7531\u5668\u6b64\u503c\u5c31\u51cf1\uff0c\u5f53\u6b64\u503c\u4e3a0\u5219\u6570\u636e\u62a5\u5c06\u88ab\u4e22\u5f03\uff0c\u540c\u65f6\u53d1\u9001ICMP\u62a5\u6587\u901a\u77e5\u6e90\u4e3b\u673a\u3002RFC 793\u4e2d\u89c4\u5b9aMSL\u4e3a2\u5206\u949f\uff0c\u5b9e\u9645\u5e94\u7528\u4e2d\u5e38\u7528\u7684\u662f30\u79d2\uff0c1\u5206\u949f\u548c2\u5206\u949f\u7b49\u3002"),i.a.createElement("p",null,"    2MSL\u5373\u4e24\u500d\u7684MSL\uff0cTCP\u7684TIME_WAIT\u72b6\u6001\u4e5f\u79f0\u4e3a2MSL\u7b49\u5f85\u72b6\u6001\uff0c\u5f53TCP\u7684\u4e00\u7aef\u53d1\u8d77\u4e3b\u52a8\u5173\u95ed\uff0c\u5728\u53d1\u51fa\u6700\u540e\u4e00\u4e2aACK\u5305\u540e\uff0c\u5373\u7b2c3\u6b21\u63e1\u624b\u5b8c\u6210\u540e\u53d1\u9001\u4e86\u7b2c\u56db\u6b21\u63e1\u624b\u7684ACK\u5305\u540e\u5c31\u8fdb\u5165\u4e86TIME_WAIT\u72b6\u6001\uff0c\u5fc5\u987b\u5728\u6b64\u72b6\u6001\u4e0a\u505c\u7559\u4e24\u500d\u7684MSL\u65f6\u95f4\uff0c\u7b49\u5f852MSL\u65f6\u95f4\u4e3b\u8981\u76ee\u7684\u662f\u6015\u6700\u540e\u4e00\u4e2aACK\u5305\u5bf9\u65b9\u6ca1\u6536\u5230\uff0c\u90a3\u4e48\u5bf9\u65b9\u5728\u8d85\u65f6\u540e\u5c06\u91cd\u53d1\u7b2c\u4e09\u6b21\u63e1\u624b\u7684FIN\u5305\uff0c\u4e3b\u52a8\u5173\u95ed\u7aef\u63a5\u5230\u91cd\u53d1\u7684FIN\u5305\u540e\u53ef\u4ee5\u518d\u53d1\u4e00\u4e2aACK\u5e94\u7b54\u5305\u3002\u5728TIME_WAIT\u72b6\u6001\u65f6\u4e24\u7aef\u7684\u7aef\u53e3\u4e0d\u80fd\u4f7f\u7528\uff0c\u8981\u7b49\u52302MSL\u65f6\u95f4\u7ed3\u675f\u624d\u53ef\u7ee7\u7eed\u4f7f\u7528\u3002\u5f53\u8fde\u63a5\u5904\u4e8e2MSL\u7b49\u5f85\u9636\u6bb5\u65f6\u4efb\u4f55\u8fdf\u5230\u7684\u62a5\u6587\u6bb5\u90fd\u5c06\u88ab\u4e22\u5f03\u3002\u4e0d\u8fc7\u5728\u5b9e\u9645\u5e94\u7528\u4e2d\u53ef\u4ee5\u901a\u8fc7\u8bbe\u7f6eSO_REUSEADDR\u9009\u9879\u8fbe\u5230\u4e0d\u5fc5\u7b49\u5f852MSL\u65f6\u95f4\u7ed3\u675f\u518d\u4f7f\u7528\u6b64\u7aef\u53e3\u3002"),i.a.createElement("p",null,"    TTL\u4e0eMSL\u662f\u6709\u5173\u7cfb\u7684\u4f46\u4e0d\u662f\u7b80\u5355\u7684\u76f8\u7b49\u7684\u5173\u7cfb\uff0cMSL\u8981\u5927\u4e8e\u7b49\u4e8eTTL\u3002")),i.a.createElement(E.a,{span:1}),i.a.createElement(E.a,{span:4},i.a.createElement(o.a,{showInkInFixed:"true"},i.a.createElement(m,{href:"#11\u79cd\u72b6\u6001",title:"11\u79cd\u72b6\u6001"}),i.a.createElement(m,{href:"#TCP\u72b6\u6001\u8fc1\u79fb",title:"TCP\u72b6\u6001\u8fc1\u79fb"}),i.a.createElement(m,{href:"#2MSL\u662f\u4ec0\u4e48\uff1f",title:"2MSL\u662f\u4ec0\u4e48\uff1f"})))))}}]),t}(u.Component);t.default=T}});
//# sourceMappingURL=92.15388906.chunk.js.map